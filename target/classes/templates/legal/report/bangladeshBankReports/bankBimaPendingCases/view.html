<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="legal/layouts/main/main-layout">
<head>
    <meta charset="UTF-8">
    <title th:text="${reportTitle}"></title>
    <link rel="stylesheet" th:href="@{/css/legal-report.css}"/>
    <style media="print">
        @page  {
            size: A4 landscape; margin: 0.4in 0.4in 0.6in 0.39in;
        }
    </style>
</head>
<body>
<div layout:fragment="content">
    <div class="content-wrapper">
        <div class="content" id="report-app">
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-body">
                            <div class="row margin">
                                <div class="col-sm-1">
                                    From :
                                </div>
                                <div class="col-sm-2">
                                    <!--<input type="date" v-model="startDate" min="2021-01-01" class="form-control"
                                           required/>-->
                                    <input type="date" v-model="startDate" class="form-control"
                                           required/>
                                </div>
                                <div class="col-sm-1">
                                    To :
                                </div>
                                <div class="col-sm-2">
                                   <!-- <input type="date" v-model="endDate" min="2021-01-01" class="form-control"
                                           required/>-->
                                    <input type="date" v-model="endDate"  class="form-control"
                                           required/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <button class="btn btn-sm btn-primary pull-right margin" @click="getReport">
                                        Report
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 text-right">
                    <a class="btn btn-sm btn-primary" onclick="printElementIncludingStyles('printBody')">Print</a>
                    <a class="btn btn-sm btn-primary" onclick="export2Word('printBody', document.title)">Doc</a>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div id="printBody" class="box">
                        <div class="box-body">
                            <!--<div class="row">-->
                            <div class="col-sm-12">
                                <table>
                                    <thead>
                                    <!--Column width control with empty <th>-->
                                    <tr>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td style="text-align: center" colspan="6">
                                            <b style="font-size: 16px">ইউনাইটেড কমার্শিয়াল ব্যাংক লিঃ </b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center" colspan="6">
                                            <b style="font-size: 16px">কর্পোরেট কার্যালয় </b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center" colspan="6">
                                            <b style="font-size: 16px">ঢাকা</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="4" class="text-right" style="padding-right: 50px;">
                                            বিষয়ঃ ব্যাংক , বীমা ও আর্থিক প্রতিষ্ঠানের মামলা সংক্রান্ত তথ্য প্রদান
                                            প্রসঙ্গে ।
                                        </td>
                                        <td colspan="2" class="text-right" style="padding-right: 50px;">
                                            <!--{{' তারিখ : ' + data.dateOfReportGeneration + ' পর্যন্ত ।'}}-->
                                            তারিখ : {{data.dateOfReportGeneration }} পর্যন্ত ।
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="6" style="text-align: right">
                                            কোটি টাকা
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <table class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <th colspan="4" rowspan="2" style="text-align: center; vertical-align: top;"> ক্রমিক <br/> নং </th>
                                        <th colspan="6" rowspan="2" style="text-align: center; vertical-align: top;"> বীমা/আর্থিক <br/> প্রতিষ্ঠান </th>
                                        <th colspan="10" style="text-align: center">রীট মামলা</th>
                                        <th colspan="10" style="text-align: center">অর্থঋণ মামলা</th>
                                        <th colspan="10" style="text-align: center">সার্টিফিকেটে মামলা</th>
                                        <th colspan="10" style="text-align: center">দেউলিয়া মামলা</th>
                                        <th colspan="10" style="text-align: center">অন্যান্য মামলা</th>
                                        <th colspan="10" style="text-align: center">সর্বমোট</th>
                                    </tr>
                                    <tr>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                        <th colspan="4" style="text-align: center">সংখ্যা</th>
                                        <th colspan="6" style="text-align: center">জড়িত অর্থ</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td colspan="4" class="text-center">১</td>
                                        <td colspan="6">ইউনাইটেড কমার্শিয়াল ব্যাংক লিঃ</td>
                                        <td colspan="4" style="text-align: center">{{data.totalWritCount }}</td>
                                        <td colspan="6" style="text-align: center">{{data.totalWritCaseAmount }}</td>
                                        <td colspan="4" style="text-align: center">{{data.totalArtharinCount }}</td>
                                        <td colspan="6" style="text-align: center">{{data.totalArtharinCaseAmount }}</td>
                                        <td colspan="4" style="text-align: center">-</td>
                                        <td colspan="6" style="text-align: center">-</td>
                                        <td colspan="4" style="text-align: center">{{data.totalBankrupcyCount }}</td>
                                        <td colspan="6" style="text-align: center">{{data.totalBankrupcyCaseAmount }}</td>
                                        <td colspan="4" style="text-align: center">{{data.othersCase}}</td>
                                        <td colspan="6" style="text-align: center">{{data.othersCaseAmount}}</td>
                                        <td colspan="4" style="text-align: center">{{data.totalCount}}</td>
                                        <td colspan="6" style="text-align: center">{{data.totalCaseAmount}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            var customerWiseReportApp = new Vue({
                el: '#report-app',
                components: {
                    Multiselect: VueMultiselect.default
                },
                data: {
                    startDate: '',
                    endDate: '',
                    data: {},
                    isLoading: false
                },
                created: function () {
                    this.startDate = "2021-01-01";
                    this.endDate = new Date().toISOString().substring(0, 10);

                },
                filters: {
                    formatCurrency(value) {
                        return formatBdtInEnglish(value);
                    }
                },
                methods: {
                    getReport: function (e) {
                        e.preventDefault();
                        let vm = this;
                        vm.isLoading = true;

                        let host = window.location.host;
                        let url = 'https://' + host + '/legal/report/bangladesh-bank-reports/bank-bima-pending-cases/report?' + 'startDate=' + vm.startDate + '&endDate=' + vm.endDate;
                        vm.$http.get(url)
                            .then(res => {
                                if (res.ok) {
                                    if (typeof res.body === 'string' && res.body.contains('login')) {
                                        notifyError();
                                    } else {
                                        vm.data = res.body;
                                    }
                                    vm.isLoading = false;
                                }
                            }).catch(err => {
                            swal("Something went wrong");
                            vm.isLoading = false;
                        })
                    },
                    removeData: function (index) {
                        this.data.splice(index, 1);
                    },
                    print: function () {
                        printElementIncludingStyles('printBody');
                    },
                }
            })
        </script>

    </div>

</div>

</body>
</html>