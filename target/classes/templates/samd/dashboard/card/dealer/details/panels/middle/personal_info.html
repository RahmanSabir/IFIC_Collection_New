<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"></meta>
    <title>Allocated Account list</title>
</head>
<body>
<div id="layout-cibReport" th:fragment="personal-info">

    <style>
        .tableFixHead          { overflow-y: auto; height: 700px; }
        .tableFixHead thead th { position: sticky; top: 0; }

        table  { border-collapse: collapse; width: 100%; }
        th, td { padding: 8px 16px; }
        th     { background:#eee; }
    </style>



    <div class="tableFixHead">

    <table name="letter_info" class="table table-striped table-bordered">
        <thead>
        <tr class="fixed-th">
            <th>SL</th>
            <th>Card Number</th>
            <th>Card Holder Name</th>
            <th>Customer Id</th>
            <th>Current Balance</th>
            <th>Total Min. Due</th>
            <th>Age Code</th>
            <th>Product Code</th>
            <th>Group Name</th>
            <th>Product Group</th>
            <th>Cards Category</th>
            <th>Back Amount</th>
            <th>Save Amount</th>
            <th>Cash Collection</th>
            <th>PAR Rel. Req. Amount</th>
            <th>NPL Rel. Req. Amount</th>
            <th>PTP Date</th>
            <th>PTP Amount</th>
            <th>Payment</th>
            <th>Remaining Balance</th>
            <th>Location</th>
            <th>Customer Phone</th>
            <th>Customer Mobile</th>
            <th>Bill Cycle Date</th>
            <th>Due Date</th>
            <th>Due Date With Grace Period</th>
            <th>Monitoring Status</th>
        </tr>
        </thead>

        <tbody>
        <!--<tr th:each="data,status : ${accountList}">-->
        <!--<td th:text="${data?.getLoanAccountBasicInfo()?.getAccountName()}"></td>-->
        <!--<td th:text="${data?.getLoanAccountBasicInfo()?.getAccountNo()}"></td>-->
        <!--<td th:text="${data?.getLoanAccountBasicInfo()?.getDisbursementAmount()}"></td>-->
        <!--<td th:text="${data?.getLoanAccountBasicInfo()?.getDisbursementDate()}"></td>-->
        <!--<td th:text="${data?.getProductGroup()}"></td>-->
        <!--<td th:text="${data?.getDpdBucket()}"></td>-->
        <!--<td th:text="${data?.getOutStanding()}"></td>-->
        <!--<td th:text="${data?.getSchemaCode()}"></td>-->
        <!--</tr>-->

        <tr th:each="data,status : ${cardAccList}">
            <td th:text="${status.count}"></td>
            <td ><a target="_blank" th:href="@{/profile/loanprofile/search(account=${data?.cardAccountBasicInfo?.cardNo})}" th:text="${data?.cardAccountBasicInfo?.cardNo}"></a></td>
            <td th:text="${data?.cardAccountBasicInfo?.cardName}"></td>
            <td th:text="${data?.cardAccountBasicInfo?.customerEntity?.customerId}"></td>
            <td th:text="${data?.outstandingAmount}"></td>
            <td th:text="${#numbers.formatDecimal(data?.minDuePayment, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
            <td th:text="${data?.ageCode}"></td>
            <td th:text="${data?.productGroup}"></td>
            <td th:text="${data?.productType?.productGroupEntity?.name}"></td>
            <td th:text="${data?.productType?.name}"></td>
            <td th:text="${data?.productType?.cardsCategory}"></td>
            <td th:text="${#numbers.formatDecimal(data?.backAmount, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
            <td th:text="${#numbers.formatDecimal(data?.saveAmount, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
            <td th:text="${#numbers.formatDecimal(data?.cashCollection, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
            <td th:text="${#numbers.formatDecimal(data?.parRelAmnt, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
            <td th:text="${#numbers.formatDecimal(data?.nplRelAmnt, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>

            <td >
                <label th:each="ptp : ${data?.cardAccountBasicInfo?.customerEntity?.cardPtpList}">

                    <p th:text="${#dates.format(ptp.card_ptp_date, 'dd-MMM-yyyy')}" th:if="${ptp.card_ptp_status=='kept'}" class="btn btn-info btn-xs"></p>
                    <p th:text="${#dates.format(ptp.card_ptp_date, 'dd-MMM-yyyy')}" th:if="${ptp.card_ptp_status=='cured'}" class="btn btn-success btn-xs"></p>
                    <p th:text="${#dates.format(ptp.card_ptp_date, 'dd-MMM-yyyy')}" th:if="${ptp.card_ptp_status=='broken'}" class="btn btn-warning btn-xs"></p>
                </label>
                <!--<p class="btn btn-info btn-xs">22-Jan-2020</p><br/>-->
                <!--<p class="btn btn-success btn-xs">25-Jan-2020</p><br/>-->
                <!--<p class="btn btn-warning btn-xs">29-Jan-2020</p><br/>-->
                <!--<p class="btn btn-warning btn-xs">29-Jan-2020</p><br/>-->
            </td>
            <td >
                <label th:each="ptp : ${data?.cardAccountBasicInfo?.customerEntity?.cardPtpList}">
                    <p th:text="${#numbers.formatDecimal(ptp.card_amount, 1, 'DEFAULT', 2, 'DEFAULT')}" th:if="${ptp.card_ptp_status=='kept'}" class="btn btn-info btn-xs"></p>
                    <p th:text="${#numbers.formatDecimal(ptp.card_amount, 1, 'DEFAULT', 2, 'DEFAULT')}" th:if="${ptp.card_ptp_status=='cured'}" class="btn btn-success btn-xs"></p>
                    <p th:text="${#numbers.formatDecimal(ptp.card_amount, 1, 'DEFAULT', 2, 'DEFAULT')}" th:if="${ptp.card_ptp_status=='broken'}" class="btn btn-warning btn-xs"></p>
                </label>
            </td>
            <td th:text="${data?.totalPayment}"></td>
            <td >
                <label>R:<p th:text="${#numbers.formatDecimal(data?.remRegularkAmount, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
                <label>B:<p th:text="${#numbers.formatDecimal(data?.remBackAmount, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
                <label>S:<p th:text="${#numbers.formatDecimal(data?.remSaveAmount, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
                <label>RC:<p th:text="${#numbers.formatDecimal(data?.remRawCollAmount, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
                <label>PAR REL:<p th:text="${#numbers.formatDecimal(data?.parRelAmnt, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
                <label>NPL REL:<p th:text="${#numbers.formatDecimal(data?.nplRelAmnt, 1, 'DEFAULT', 2, 'DEFAULT')}" class="btn btn-default btn-xs"></p></label>
            </td>
            <td th:text="${data?.cardAccountBasicInfo?.location}"></td>
            <td>-</td>
            <td th:text="${data?.mobileNo}"></td>
            <td th:text="${data?.billingCycle}"></td>
            <td th:text="${#dates.format(data?.currentMonthPayDueDate, 'dd-MMM-yyyy')}" ></td>
            <td th:text="${#dates.format(data?.dueDateWithGracePeriod, 'dd-MMM-yyyy')}"></td>
            <td>-</td>

        </tr>
        </tbody>
    </table>
    </div>
    <!--<div class="form-group row csi-view-form-group">-->
    <!--<label class="col-sm-3 custom-details-lebel-left required">Father Name :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel" id="fatherName" ></label>-->
    <!--<label class="col-sm-3 custom-details-lebel-left required"> Mother Name :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel"   id="motherName" ></label>-->
    <!--</div>-->

    <!--<div class="form-group row csi-view-form-group">-->
    <!--<label class="col-sm-3 custom-details-lebel-left">Spouse Name :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel"  id="spouseName"></label>-->
    <!--<label class="col-sm-3 custom-details-lebel-left">Spouse Occuption :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel" id="spouseOccuption"></label>-->
    <!--</div>-->

    <!--<div class="form-group row csi-view-form-group">-->
    <!--<label class="col-sm-3 custom-details-lebel-left">Passport No. :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel"   id="passportNo"></label>-->
    <!--<label class="col-sm-3 custom-details-lebel-left">National ID Card No. :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel" id="nid" ></label>-->
    <!--</div>-->
    <!--<div class="form-group row csi-view-form-group">-->
    <!--<label class="col-sm-3 custom-details-lebel-left">Email Address :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel"  id="email"></label>-->
    <!--<label class="col-sm-3 custom-details-lebel-left">TIN :</label>-->
    <!--<label class="col-sm-3 custom-form-lebel" id="tin"></label>-->
    <!--</div>-->
</body>


</html>
