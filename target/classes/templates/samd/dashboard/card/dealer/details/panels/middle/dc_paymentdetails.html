<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"></meta>
    <title>Payment Details</title>
</head>
<body>
<div id="layout-cibReport" th:fragment="dc_paymentdetails">
    <div class="csi-view-form-full-area csi-view-indtable">
        <div class="box-header with-border csi-view-box-header">
            <h3 class="box-title" >Payment Details</h3>

        </div>
        <div class="box-body" >
            <style type="text/css">
                .customers {
                    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
                    border-collapse: collapse;
                    width: 100%;
                }

                .customers td, .customers th {
                    border: 1px solid #ddd;
                    padding: 8px;
                }

                .customers tr:nth-child(even){background-color: #f2f2f2;}

                /*.customers tr:hover {background-color: #ddd;}*/

                .customers th {
                    padding-top: 12px;
                    padding-bottom: 12px;
                    text-align: left;
                    background-color: #4CAF50;
                    color: white;
                }
            </style>
            <form class="form-horizontal csi-view-form" id="card_payment_details">
                <table class=" table table-striped table-bordered custom_dt">
                    <thead>
                    <tr>
                        <th>Narration</th>
                        <th class="text-center" colspan="2">Current Month</th>
                        <th class="text-center" colspan="2">Last Date</th>
                    </tr>
                    <tr>
                        <th>-</th>
                        <th class="text-center">Num of A/c</th>
                        <th class="text-center">Amount</th>
                        <th class="text-center">Num of A/c</th>
                        <th class="text-center">Amount</th>
                    </tr>
                    </thead>


                    <tbody id="payment_status_card_tbody">

                    </tbody>

                </table>

                <div class="modal fade" id="modal-cardpayment-details">
                    <div class="modal-dialog"  style="height: 100%; width: 80%; padding-right: 20px;">
                        <div class="modal-content" style="height: 900px;">
                            <div class="modal-header" style="text-align: center;">
                                <h4 class="modal-title">Card Payment Details</h4>
                            </div>
                            <div style="overflow: auto; max-height: 800px; padding: 20px; margin-bottom: 20px;">
                                <table class="table customers table-condensed table-hover table-bordered">
                                    <thead>
                                        <th>SL</th>
                                        <th>Payment Date</th>
                                        <th>Card NO</th>
                                        <th>Amount</th>
                                    </thead>
                                    <tbody>
                                        <tr v-for="(payment,index) in paymentDetails">
                                            <td>{{index+1}}</td>
                                            <td>{{payment.paymentDate | dateFormat}}</td>
                                            <td><a :href="'/profile/loanprofile/search?account='+ payment.accountNo" target="_blank">{{payment.accountNo}}</a></td>
                                            <td>{{payment.amount | valueWithTwoPrecesion}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <script>
                var cardPaymentDetails = new Vue({
                    el:'#card_payment_details',
                    data:{
                        paymentDetails:[]
                    },
                    methods:{
                        showPaymentDetails: function (data) {
                            this.paymentDetails = data;
                            console.log(data);

                        }
                    },
                    filters:{
                        dateFormat:function (value) {
                            var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
                                "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
                            ];
                            if(value != ''){
                                var date = new Date(value);
                                var day = date.getDate();
                                if(day < 10) day='0'+day;
                                return day +'-'+monthNames[date.getMonth()]+'-'+date.getFullYear().toString();
                            }else{
                                return "";
                            }
                        },
                        valueWithTwoPrecesion: function (value) {
                            if(value != '') return parseFloat(value).toFixed(2);
                            else return 0;
                        },
                    }
                })
            </script>
        </div>
    </div>


</div>
</body>


</html>
