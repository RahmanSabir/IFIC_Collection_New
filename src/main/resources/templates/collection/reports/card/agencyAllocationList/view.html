<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="card/layouts/main/main-layout">
<head>
    <meta charset="UTF-8">
    <title th:text="${reportTitle}"></title>
    <script src="/js/common.js"></script>
</head>
<body>
<div layout:fragment="content">
    <div class="content-wrapper" id="dailyMonthPaymentTrand">
        <div class="content">
            <div class="row">
                <div class="box">
                    <div class="box-body">
                        <div class="form-group">
                            <div class="col-xs-6">
                                <label class="col-sm-4 control-label">Agency Name</label>
                                <div class="col-sm-8">
                                    <select id="productGroupId" class="form-control">
                                        <option value="">Select Agency</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="row margin">
                                    <div class="col-sm-4">
                                        Start Date :
                                    </div>
                                    <div class="col-sm-8 from-group"
                                         style="padding-right: 25px;">
                                        <div class="input-group date">
                                            <div class="input-group-addon">
                                                <i class="fa fa-calendar"></i>
                                            </div>
                                            <input type="date" name="firstDate" v-model="firstDate"
                                                   placeholder="Select month"
                                                   class="form-control input-sm from"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row margin">
                                    <div class="col-sm-4">
                                        End Date :
                                    </div>
                                    <div class="col-sm-8 from-group"
                                         style="padding-right: 25px;">
                                        <div class="input-group date">
                                            <div class="input-group-addon">
                                                <i class="fa fa-calendar"></i>
                                            </div>
                                            <input type="date" name="secondDate" v-model="secondDate"
                                                   placeholder="Select month"
                                                   class="form-control input-sm from"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <button class="btn btn-primary btn-lg" @click="getReportData">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12" id="dailyDataReportId">
                    <div class="box box-info">
                        <div class="box-header with-border text-center">
                            <div class="box-title">Agency Allocation List</div>
                        </div>
                        <div class="box-body" id="grid">
                            <div class="table-responsive">
                                <table id="listing-report" class="table table-striped table-bordered table-condensed"
                                       cellspacing="0">
                                    <thead>
                                    <tr>
                                        <th>Client Id</th>
                                        <th>Customer Name</th>
                                        <th>Agency name</th>
                                        <th>Agency Refered Date</th>
                                        <th>Wo Value</th>
                                        <th>Stamp Charges</th>
                                        <th>Total Claim Amount</th>
                                        <th>Total payment</th>
                                        <th>Remaining Balance</th>
                                        <th>Suit No.</th>
                                        <th>Suit date</th>
                                        <th>Jari Suit No</th>
                                        <th>Jari Suit Date</th>
                                        <th>Jari Suit Value</th>
                                        <th>Arrest Warrent Issue Date</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr v-for="data in dailyDataReportList">
                                        <td>{{data.clientId}}</td>
                                        <td>{{data.customerName}}</td>
                                        <td>{{data.agencyName}}</td>
                                        <td>{{data.agencyReferedDate}}</td>
                                        <td>{{data.woValue}}</td>
                                        <td>{{data.stampCharges}}</td>
                                        <td>{{data.totalClaimAmount}}</td>
                                        <td>{{data.totalPayment}}</td>
                                        <td>{{data.remainingBalance}}</td>
                                        <td>{{data.suitNo}}</td>
                                        <td>{{data.suitDate}}</td>
                                        <td>{{data.jariSuitNo}}</td>
                                        <td>{{data.jariSuitDate}}</td>
                                        <td>{{data.jariSuitValue}}</td>
                                        <td>{{data.arrestWarrentIssueDate}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <script th:inline="javascript">
                    var dailyDataReportList = [];
                    var reportTitle = '';
                    /*]]>*/
                </script>

                <script>
                    $(document).ready(function () {
                        $('#listing-report').DataTable();
                    });
                </script>
            </div>
        </div>
    </div>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var reportTitle = /*[[${reportTitle}]]*/ [];
        /*]]>*/
    </script>

    <script>
        // var dailyPaymentVsLastPaymentApp = new Vue({
        //     el: '#dailyMonthPaymentTrand',
        //     data: {
        //         secondDate: '',
        //         firstDate: '',
        //
        //         firstDateData: [],
        //         secondDateData: []
        //     },
        //     methods: {
        //         getReportData() {
        //             console.log('test')
        //             $.ajax({
        //                 url: '/collection/report/retail/loan/daily-basis-payment-trend/report/current?currentDate=' + this.firstDate + '&prevDate=' + this.secondDate,
        //                 success: function (response) {
        //                     dailyPaymentVsLastPaymentApp.firstDateData = response.firstDateData;
        //                     dailyPaymentVsLastPaymentApp.secondDateData = response.secondDateData;
        //                 },
        //                 error: function (response) {
        //                     alert('Unsuccessful');
        //                 }
        //             })
        //         }
        //     }
        // })

        // $(".month-picker").datepicker({
        //     format: "yyyy-mm",
        //     minViewMode: 1,
        //     container: "#month-picker-container",
        //     autoclose: true
        // });
    </script>
</div>
</body>
</html>