<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"/>
    <title>Proposal Details</title>
    </head>
<body>

<div id="layout-cibReport" th:fragment="proposal-details">
    <div class="csi-view-form-full-area csi-view-indtable" id="proposalDetailApp">
        <div class="box-header with-border csi-view-box-header">
            <h3 class="box-title">Proposal Details</h3>
            <div class="pull-right">

                <a class=" btn btn-xs btn-primary  btn-add-customer-request" data-toggle="modal"
                   data-target="#modal-reschedule-guideline">
                    <i class="fa fa-eye"></i>
                    Reschedule Guideline
                </a>

                <div class="text-right" style="margin-top: 5px;">
                    <a class=" btn btn-xs btn-primary pull-right btn-add-customer-request" data-toggle="modal" data-target="#modal-proposal-details" >
                        <i class="fa fa-plus-square"></i>
                        <span v-if="proposalDetailsDtoList == ''">Add</span>
                        <span v-else>Edit</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="box-body">
            <div class="row">
                <div class="modal fade in" id="modal-proposal-details"  data-backdrop="static" data-keyboard="false">
                    <div class="modal-dialog" style="width: 60%">
                        <div class="modal-content col-sm-12">
                            <div class="modal-header">
                                <h3 >Report</h3>
                            </div>

                            <form  id="proposal-details-form" action="" method="post" class="form-horizontal"  enctype="multipart/form-data">

                                <!--<input type="hidden" name="id" :value="proposalDetails.id">-->
                                <input type="hidden" name="id" :value="proposalDetailsDtoList.id">
                                <input name="_csrf" type="hidden">
                                <input type="hidden" name="clStatusId" :value="getSelectedclStatusId">
                                <input :value="customerId" name="customerId" type="hidden">

                                <div class="alert alert-warning hidden" id="proposal-details-error-messages"></div>

                                <div class="modal-body">

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Proposal Type:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.proposalType" name="proposalType"  class="form-control" placeholder="Proposal Type"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Interest Suspense :</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.interestSuspense" name="interestSuspense"  class="form-control" placeholder="Interest Suspense"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Proposed Reschedule Times:</label>
                                        <div class="col-sm-3">
                                            <select @change="getResheduleTime" :value="proposalDetailsDtoList.proposedRescheduleTimesId ? proposalDetailsDtoList.proposedRescheduleTimesId : ''"  name="proposedRescheduleTimes"  class="form-control">
                                                <option value="">Select Proposed Reschedule Times</option>
                                                <option v-for="(status, id) in proposedRescheduleTimes" :value="status.id">{{status.rescheduleTimes}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Branch Name:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.branchName" name="branchName"  class="form-control" placeholder="Branch Name"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Provision:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.provision" name="provision"  class="form-control" placeholder="Provision"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Allowable Max. Reschedule Months:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.allowableMaxRescheduleMonths)" name="allowableMaxRescheduleMonths"  class="form-control" placeholder="Allowable Max. Reschedule Months"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Loan Account No:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.loanAccountNo" name="loanAccountNo"  class="form-control" placeholder="Loan Account No"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Unapplied Interest:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.unappliedInterest" name="unappliedInterest"  class="form-control" placeholder="Unapplied Interest"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Allowed Time for Reshedulement:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.allowedTimeReshedulement" name="allowedTimeReshedulement"  class="form-control" placeholder="Allowed Time for Reshedulement"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Loan Account Name:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.loanAccountName" name="loanAccountName"  class="form-control" placeholder="Loan Account Name"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Total Claim Amount:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.totalClaimAmount" name="totalClaimAmount"  class="form-control" placeholder="Total Claim Amount"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Relevant Subject of the Memo:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.relevantSubjectMemo" name="relevantSubjectMemo"  class="form-control" placeholder="Relevant Subject of the Memo"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Facility Nature:</label>
                                        <div class="col-sm-3">
                                            <input type="text"  name="facilityNature" v-model="productType"  class="form-control" placeholder="Facility Nature"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Value of Eligible security:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.valueEligibleSecurity" name="valueEligibleSecurity"  class="form-control" placeholder="Value of Eligible security"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Date of Last CIB Report:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.dateLastCIBReport" name="dateLastCIBReport"  class="form-control" placeholder="Date of Last CIB Report"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">CL Status:</label>
                                        <div class="col-sm-3">
                                            <select :value="proposalDetailsDtoList.clstatusId ? proposalDetailsDtoList.clstatusId : ''" name="cLStatus" class="form-control">
                                                <option value="">Select a status</option>
                                                <option v-for="(status, id) in clStatus" :value="status.id">{{status.name}}</option>
                                            </select>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Proposed for Waiver(Unapplied Interest) :</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.proposedWaiverUnappliedInterest" name="proposedWaiverUnappliedInterest"  class="form-control" placeholder="Proposed for Waiver"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">BB Approval Requirement:</label>
                                        <div class="col-sm-3">
                                            <select :value="proposalDetailsDtoList.bbapprovalRequirementId ? proposalDetailsDtoList.bbapprovalRequirementId : ''"  name="bBApprovalRequirement" class="form-control">
                                                <option value="">Select BB Approval Requirement</option>
                                                <option v-for="(status, id) in bBApprovalRequirementList" :value="status.id">{{status.approvalRequirement}}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Disbursement Date:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.disbursementDate)" name="disbursementDate"  class="form-control" placeholder="Disbursement Date"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Proposed for Waiver(Unapplied Interest) :</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.proposedWaiverUnappliedInterest" name="proposedWaiverUnappliedInterest"  class="form-control" placeholder="Proposed for Waiver"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Letter Issuing date for BB Approval:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.letterIssuingDateBBApproval)" name="letterIssuingDateBBApproval"  class="form-control" placeholder="Letter Issuing date for BB Approval"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Expiry Date:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.expiryDate)" name="expiryDate"  class="form-control" placeholder="Expiry Date"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Proposed for Waiver(Unapplied Interest) :</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.proposedWaiverUnappliedInterest" name="proposedWaiverUnappliedInterest"  class="form-control" placeholder="Proposed for Waiver"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">BB Approval Receiving Date:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.bBApprovalReceivingDate)" name="bBApprovalReceivingDate"  class="form-control" placeholder="BB Approval Receiving Date"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Proposal Send by:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.proposalSendBy" name="proposalSendBy"  class="form-control" placeholder="Proposal Send by"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Proposed for Total Waiver:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.proposedTotalWaiver" name="proposedTotalWaiver"  class="form-control" placeholder="Proposed for Total Waiver"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Sanction Issuing Date:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.sanctionIssuingDate)" name="sanctionIssuingDate"  class="form-control" placeholder="Sanction Issuing Date"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Memo/ Note Prepared by:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.memoNotePreparedBy" name="memoNotePreparedBy"  class="form-control" placeholder="Memo/ Note Prepared by"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Outstanding Before Down payment:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.outstandingBeforeDownPayment" name="outstandingBeforeDownPayment"  class="form-control" placeholder="Outstanding Before Down payment"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Reschedule Execution Date:</label>
                                        <div class="col-sm-3">
                                            <input type="date" :value="formatDateInput(proposalDetailsDtoList.rescheduleExecutionDate)" name="rescheduleExecutionDate"  class="form-control" placeholder="Reschedule Execution Date"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Proposal Placed to:</label>
                                        <div class="col-sm-3">
                                            <select :value="proposalDetailsDtoList.proposalPlacedToId ? proposalDetailsDtoList.proposalPlacedToId: ''"  name="proposalPlacedTo" class="form-control">
                                                <option value="">Select Proposal Placed to</option>
                                                <option v-for="(status, id) in proposalPlaceToList" :value="status.id">{{status.name}}</option>
                                            </select>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Down Payment Determining Criteria:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.downPaymentDeterminingCriteria" name="downPaymentDeterminingCriteria"  class="form-control" placeholder="Down Payment Determining Criteria"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Rescheduled Account No (After RS):</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.rescheduledAccountNo" name="rescheduledAccountNo"  class="form-control" placeholder="Rescheduled Account No"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Approval Level:</label>
                                        <div class="col-sm-3">
                                            <select :value="proposalDetailsDtoList.approvalLevelId ? proposalDetailsDtoList.approvalLevelId : ''"  name="approvalLevel" class="form-control">
                                                <option value="">Select Approval Level</option>
                                                <option v-for="(status, id) in approvalLevel" :value="status.id">{{status.name}}</option>
                                            </select>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Basis of Obtaining Down payment:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.basisObtainingDownPayment" name="basisObtainingDownPayment"  class="form-control" placeholder="Basis of Obtaining Down payment"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Interest Income:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.interestIncome" name="interestIncome"  class="form-control" placeholder="Interest Income"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Proposal Status:</label>
                                        <div class="col-sm-3">
                                            <select :value="proposalDetailsDtoList.proposalStatusId ? proposalDetailsDtoList.proposalStatusId: ''"  name="proposalStatus" class="form-control">
                                                <option value="">Select Proposal Status</option>
                                                <option v-for="(status, id) in proposalStatus" :value="status.id">{{status.name}}</option>
                                            </select>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Required Down payment:</label>
                                        <div class="col-sm-3">
                                            <input type="number" name="requiredDownPayment" :value="getDownPayment"  class="form-control" disabled></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Capital Release:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.capitalRelease" name="capitalRelease"  class="form-control" placeholder="Capital Release"></input>
                                        </div>
                                    </div>


                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Total Recovery:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.totalRecovery" name="totalRecovery"  class="form-control" placeholder="Total Recovery"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Realized Down payment:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.realizedDownPayment" name="realizedDownPayment"  class="form-control" placeholder="Realized Down payment"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">NPL Reduced:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.npLReduced" name="npLReduced"  class="form-control" placeholder="NPL Reduced"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left">Overdue :</label>
                                        <div class="col-sm-3">
                                            <input type="number"  name="overdue" v-model="overdue"  class="form-control" placeholder="Overdue"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Remaining Down payment:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.remainingDownPayment" name="remainingDownPayment"  class="form-control" placeholder="Remaining Down payment"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Outstanding:</label>
                                        <div class="col-sm-3">
                                            <input type="number"  name="outstanding" v-model="outstanding"  class="form-control" placeholder="Outstanding"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left ">Outstanding After Down Payment/RS:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.outstandingAfterDownPayment" name="outstandingAfterDownPayment"  class="form-control" placeholder="Outstanding After Down Payment/RS"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Filling Amount:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.fillingAmount" name="fillingAmount"  class="form-control" placeholder="Filling Amount"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Existing case status:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.existingCaseStatus" name="existingCaseStatus"  class="form-control" placeholder="Existing case status"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left ">Total Legal & Other Expense:</label>
                                        <div class="col-sm-3">
                                            <input type="number" :value="proposalDetailsDtoList.totalLegalAndOtherExpense" name="totalLegalAndOtherExpense"  class="form-control" placeholder="Total Legal & Other Expense"></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left">Type of case :</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.typeOfCase" name="typeOfCase"  class="form-control" placeholder="Type of case "></input>
                                        </div>
                                        <label class="col-sm-1 custom-details-lebel-left ">Remarks:</label>
                                        <div class="col-sm-3">
                                            <input type="text" :value="proposalDetailsDtoList.remarks" name="remarks"  class="form-control" placeholder="Remarks"></input>
                                        </div>
                                    </div>

                                    <div class="row top-buffer">
                                        <label class="col-sm-1 custom-details-lebel-left ">Attachment(Relevant docs):</label>
                                        <div class="col-sm-3">
                                            <input type="file" class="form-control" placeholder="Attachment" name="file"/>
                                        </div>
                                    </div>


                                </div>

                                <div class="modal-footer text-center">
                                    <button type="submit" class="btn btn-info">Save</button>
                                    <button type="button" id="cardRefModalCancelBtn" class="btn btn-danger" data-dismiss="modal">Close</button>
                                </div>
                            </form>


                        </div>
                    </div>
                </div>
            </div>

            <div class="form-horizontal csi-view-form">
                <div >
                    <table type="datatable-responsive"
                           class="table table-striped table-bordered table-condensed" width="100%">


                        <thead>
                        </thead>
                        <tbody>

                        <div id="layout-form-general" class="loancaseentry-sp general-div" style="margin-left: 0px">
                            <div class="loan-init-details-sp-inner">

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposal Type :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposalType}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Interest Suspense :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.interestSuspense}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposed Reschedule Times :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposedRescheduleTimes ? proposalDetailsDtoList.proposedRescheduleTimes : ''}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Branch Name :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.branchName}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Provision :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.provision}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Allowable Max. Reschedule Months :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.allowableMaxRescheduleMonths)}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Loan Account No :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.loanAccountNo}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Unapplied Interest :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.unappliedInterest}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Allowed Time for Reshedulement :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.allowedTimeReshedulement}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Loan Account Name :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.loanAccountName}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Total Claim Amount :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.totalClaimAmount}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Relevant Subject of the Memo :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.relevantSubjectMemo}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Facility Nature :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.facilityNature}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Value of Eligible security :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.valueEligibleSecurity}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Date of Last CIB Report :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.dateLastCIBReport}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">CL Status :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.clstatus ? proposalDetailsDtoList.clstatus : ''}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposed for Waiver:(Unapplied Interest) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposedWaiverUnappliedInterest}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">BB Approval Requirement :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.bbapprovalRequirement ? proposalDetailsDtoList.bbapprovalRequirement : ''}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Disbursement Date :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.disbursementDate)}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposed for Waiver:(Interest Suspense) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposedWaiverInterestSuspense}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Letter Issuing date for BB Approval :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.letterIssuingDateBBApproval)}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Expiry Date :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.expiryDate)}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposed for Waiver: (Income) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposedWaiverIncome}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">BB Approval Receiving Date :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.bBApprovalReceivingDate)}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposal Send by (Name, EID) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposalSendBy}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposed for Total Waiver :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposedTotalWaiver}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Sanction Issuing Date :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.sanctionIssuingDate)}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Memo/ Note Prepared by (Name,EID) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.memoNotePreparedBy}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Outstanding Before Down payment :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.outstandingBeforeDownPayment}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Reschedule Execution Date :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{formatDate(proposalDetailsDtoList.rescheduleExecutionDate)}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposal Placed to :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.propPlaceName ? proposalDetailsDtoList.propPlaceName : ''}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Down Payment Determining Criteria :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.downPaymentDeterminingCriteria}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Rescheduled Account No (After RS) :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.rescheduledAccountNo}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Approval Level :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.approvalLevelName ? proposalDetailsDtoList.approvalLevelName : ''}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Basis of Obtaining Down payment :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.basisObtainingDownPayment}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Interest Income :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.interestIncome}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Proposal Status :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.proposalStatus ? proposalDetailsDtoList.proposalStatus : ''}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Required Down payment :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.requiredDownPayment}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Capital Release :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.capitalRelease}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Total Recovery :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.totalRecovery}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Realized Down payment :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.realizedDownPayment}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">NPL Reduced :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.npLReduced}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Overdue :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.overdue}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Remaining Down payment :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.remainingDownPayment}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Remarks/Comments :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.remarks}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Outstanding :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.outstanding}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Outstanding After Outstanding After :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.outstandingAfterDownPayment}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Attachment:(Relevant docs) :</label>
                                    <label class="col-sm-3 custom-form-lebel">
                                        <a :href="'/collection/dms/document/preview?id='+proposalDetailsDtoList.dmsFileId+ '&type='+proposalDetailsDtoList.dmsFileType">{{proposalDetailsDtoList.fileName}} </a>
                                    </label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Filling Amount :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.fillingAmount}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Existing case status :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.existingCaseStatus}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 custom-details-lebel-left ">Total Legal & Other Expense :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.totalLegalAndOtherExpense}}</label>
                                    <label class="col-sm-3 custom-details-lebel-left ">Type of case :</label>
                                    <label class="col-sm-3 custom-form-lebel">{{proposalDetailsDtoList.typeOfCase}}</label>
                                </div>

                                <div class="form-group row csi-view-form-group">
                                    <label class="col-sm-3 customer-details-lebel-left ">Dynamic Calculator for Reschedule :</label>
                                    <!--<label class="col-sm-3 customer-form-lebel">{{proposalDetailsDtoList.dynamicCalculator}}</label>-->
                                    <button type="button" class="btn btn-info btn-lg" onclick="openCalculator()">Open Calculator</button>
                                </div>

                            </div>
                        </div>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>


    </div>

    <script>



        proposalDetailsApp = new Vue({
            el: '#proposalDetailApp',
            components: {
                Multiselect: VueMultiselect.default
            },
            data: {


                clStatus: [],
                selectedClStatus: {},

                proposalStatus: [],
                getProposalStatus: {},

                proposedRescheduleTimes: [],
                getRescheduleTime: {},

                proposalPlaceToList: [],
                getProposalPlaceTo: {},

                approvalLevel: [],
                getApprovalLevel:{},

                bBApprovalRequirementList: [],
                getBBApprovalRequirement:{},

                customerId: '',
                // proposalDetails: {},

                proposalDetailsDtoList: {},

                loanType: '',
                overdue: '',
                outstanding: '',

                proposedRescheduleTimesName: '',
                productType: '',

            },
            computed:{
                getSelectedclStatusId: function () {
                    return this.selectedClStatus.id;
                },
                
                getDownPayment: function () {
                    if (this.productType == 'Continuous Loan' || this.productType == 'Demand Loan'){

                        if (this.proposedRescheduleTimesName == '1st times'){
                            if (this.overdue < 10000000){
                                return this.outstanding * 0.15;
                            }else if(this.overdue >= 10000000 && this.overdue <= 50000000){
                                let amt = this.outstanding * 0.1;
                                if (amt >= 1500000){
                                    return amt;
                                }
                            } else if (this.overdue > 50000000){
                                let amt = this.outstanding * 0.05;
                                if (amt >= 5000000){
                                    return amt;
                                }
                            }
                        } else if (this.proposedRescheduleTimesName == '2nd times'){
                            let overdueAmt = this.overdue * 0.3;
                            console.log('30 % of overdue: '+overdueAmt);
                            let outStanAmt = this.outstanding * 0.2;

                            if (overdueAmt > outStanAmt){
                                return outStanAmt;
                            } else if (overdueAmt < outStanAmt){
                                return overdueAmt;
                            }

                        }else if (this.proposedRescheduleTimesName == '3rd times'){
                            let overdueAmt = this.overdue * 0.5;
                            let outStanAmt = this.outstanding * 0.3;

                            if (overdueAmt > outStanAmt){
                                return outStanAmt;
                            } else if (overdueAmt < outStanAmt){
                                return overdueAmt;
                            } else return overdueAmt;
                        }
                    } else if (this.productType == 'Term Loan' || this.productType == 'Short-Term Agricultural & Micro-Credit'){

                        if (this.proposedRescheduleTimesName == '1st times'){

                            let overdueAmt = this.overdue * 0.15;
                            let outStanAmt = this.outstanding * 0.1;

                            if (overdueAmt > outStanAmt){
                                return outStanAmt;
                            } else if (overdueAmt < outStanAmt){
                                return overdueAmt;
                            }

                        }else if (this.proposedRescheduleTimesName == '2nd times'){
                            let overdueAmt = this.overdue * 0.3;
                            console.log('30 % of overdue: '+overdueAmt);
                            let outStanAmt = this.outstanding * 0.2;

                            if (overdueAmt > outStanAmt){
                                return outStanAmt;
                            } else if (overdueAmt < outStanAmt){
                                return overdueAmt;
                            }

                        }else if (this.proposedRescheduleTimesName == '3rd times'){
                            let overdueAmt = this.overdue * 0.5;
                            let outStanAmt = this.outstanding * 0.3;

                            if (overdueAmt > outStanAmt){
                                return outStanAmt;
                            } else if (overdueAmt < outStanAmt){
                                return overdueAmt;
                            }
                        }
                    }


                }
            },
            methods: {

                formatDateInput: function (date) {
                    let date1 = date ? new Date(date) : new Date()

                    return date ? date1.getFullYear()
                        +'-'+((date1.getMonth()+1) < 10 ? '0'+(date1.getMonth()+1) : (date1.getMonth()+1))
                        +'-'+(date1.getDate() < 10 ? '0'+date1.getDate() : date1.getDate())
                        : '';
                },
                formatDate: function (date) {
                    return formatDate_DD_MMM_YYYY(date)
                },

                getResheduleTime: function () {
                    console.log('proposal reschedule time ..........................................')
                    this.proposedRescheduleTimesName = $('select[name="proposedRescheduleTimes"] option:selected').text();
                    return ;
                }
            }
        })

        $(document).ready(function () {

            $('#proposal-details-form input[name="_csrf"]').val(csrfToken);
            $('#proposal-details-form input[name="customerId"]').val(customerId);
            proposalDetailsApp.customerId = customerId


            function loadRequestsData(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/find?customerId='+customerId,
                    success: function (response) {
                        // proposalDetailsApp.proposalDetails = response;
                        proposalDetailsApp.proposalDetailsDtoList = response;
                        proposalDetailsApp.productType = response.facilityNature;
                        proposalDetailsApp.overdue = response.overdue;
                        proposalDetailsApp.outstanding = response.outstanding;
                        proposalDetailsApp.proposedRescheduleTimesName = response.proposedRescheduleTimes;
                    },
                    error: function (response) {
                        alert("Unsuccessful")
                    }
                })
            }
            loadRequestsData();

            function geCLStatus(){
                $.ajax({
                    url:'/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/cl-status/list',
                    success: function (response) {
                        proposalDetailsApp.clStatus = response;
                    },
                    error: function (response) {
                        alert("Unsuccessful");
                    }
                })
            }

            geCLStatus();

            function getProposalStatus(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/proposal-status/list',
                    success: function (response) {
                        proposalDetailsApp.proposalStatus = response;
                    },
                    error: function (response) {
                        alert("Unsuccessful");
                    }
                })
            }

            getProposalStatus();

            function getProposedRescheduleTimes(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/proposed-reschedule-times/list',
                    success: function (response) {
                        proposalDetailsApp.proposedRescheduleTimes = response;
                        console.log('response');
                        console.log(response);
                    },
                    error: function (response) {
                        alert("Unsuccessful");
                    }

                })
            }
            getProposedRescheduleTimes();


            function getProposalPlaceTo(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/proposal-place-to/list',
                    success: function (response) {
                        proposalDetailsApp.proposalPlaceToList = response;
                    },
                    error: function (response) {
                        alert("Unsuccessful");
                    }
                })
            }

            getProposalPlaceTo();


            function getApprovalLevel(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/approval-level/list',
                    success: function (response) {
                        proposalDetailsApp.approvalLevel = response;
                    },
                    error: function (response) {
                        alert("Unsuccessful");
                    }
                })
            }
            getApprovalLevel();


            function getbBApprovalRequiremens(){
                $.ajax({
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/bb-approval-requirement/list',
                    success: function (response) {
                        proposalDetailsApp.bBApprovalRequirementList = response;
                    },
                    error: function (resposnse) {
                        alert("Unsuccessful");
                    }
                })
            }

            getbBApprovalRequiremens();

            $('#proposal-details-form').on('submit', function (e) {
                e.preventDefault();
                var data = new FormData(this);
                data.append("cLStatus",proposalDetailsApp.selectedClStatus);
                data.append("proposalStatus",proposalDetailsApp.getProposalStatus);
                data.append("proposedRescheduleTimes",proposalDetailsApp.getRescheduleTime);
                data.append("proposalPlacedTo",proposalDetailsApp.getProposalPlaceTo);
                data.append("approvalLevel",proposalDetailsApp.getApprovalLevel);
                data.append("bBApprovalRequirementList",proposalDetailsApp.getBBApprovalRequirement);

                var formdatalist = $('#proposal-details-form');

                /*var proposalType = formdatalist.find('input[name="proposalType"]').val();
                var branchName = formdatalist.find('input[name="branchName"]').val();
                var loanAccountNo = formdatalist.find('input[name="loanAccountNo"]').val();
                var facilityNature = formdatalist.find('input[name="facilityNature"]').val();
                var disbursementDate = formdatalist.find('input[name="disbursementDate"]').val();
                var expiryDate = formdatalist.find('input[name="expiryDate"]').val();
                var proposalSendBy = formdatalist.find('input[name="proposalSendBy"]').val();
                var memoNotePreparedBy = formdatalist.find('input[name="memoNotePreparedBy"]').val();
                var totalRecovery = formdatalist.find('input[name="totalRecovery"]').val();
                var overdue = formdatalist.find('input[name="overdue"]').val();
                var outstanding = formdatalist.find('input[name="outstanding"]').val();
                var fillingAmount = formdatalist.find('input[name="fillingAmount"]').val();
                var interestSuspense = formdatalist.find('input[name="interestSuspense"]').val();
                var unappliedInterest = formdatalist.find('input[name="unappliedInterest"]').val();
                var totalClaimAmount = formdatalist.find('input[name="totalClaimAmount"]').val();
                var valueEligibleSecurity = formdatalist.find('input[name="valueEligibleSecurity"]').val();
                var proposedWaiverUnappliedInterest = formdatalist.find('input[name="proposedWaiverUnappliedInterest"]').val();
                var proposedWaiverInterestSuspense = formdatalist.find('input[name="proposedWaiverInterestSuspense"]').val();
                var proposedWaiverIncome = formdatalist.find('input[name="proposedWaiverIncome"]').val();
                var proposedTotalWaiver = formdatalist.find('input[name="proposedTotalWaiver"]').val();
                var outstandingBeforeDownPayment = formdatalist.find('input[name="outstandingBeforeDownPayment"]').val();
                var downPaymentDeterminingCriteria = formdatalist.find('input[name="downPaymentDeterminingCriteria"]').val();
                var basisObtainingDownPayment = formdatalist.find('input[name="basisObtainingDownPayment"]').val();
                var requiredDownPayment = formdatalist.find('input[name="requiredDownPayment"]').val();
                var realizedDownPayment = formdatalist.find('input[name="realizedDownPayment"]').val();
                var remainingDownPayment = formdatalist.find('input[name="remainingDownPayment"]').val();
                var outstandingAfterDownPayment = formdatalist.find('input[name="outstandingAfterDownPayment"]').val();
                var existingCaseStatus = formdatalist.find('input[name="existingCaseStatus"]').val();
                var allowableMaxRescheduleMonths = formdatalist.find('input[name="allowableMaxRescheduleMonths"]').val();
                var allowedTimeReshedulement = formdatalist.find('input[name="allowedTimeReshedulement"]').val();
                var relevantSubjectMemo = formdatalist.find('input[name="relevantSubjectMemo"]').val();
                var dateLastCIBReport = formdatalist.find('input[name="dateLastCIBReport"]').val();
                var letterIssuingDateBBApproval = formdatalist.find('input[name="letterIssuingDateBBApproval"]').val();
                var bBApprovalReceivingDate = formdatalist.find('input[name="bBApprovalReceivingDate"]').val();
                var sanctionIssuingDate = formdatalist.find('input[name="sanctionIssuingDate"]').val();
                var rescheduleExecutionDate = formdatalist.find('input[name="rescheduleExecutionDate"]').val();
                var rescheduledAccountNo = formdatalist.find('input[name="rescheduledAccountNo"]').val();
                var interestIncome = formdatalist.find('input[name="interestIncome"]').val();
                var capitalRelease = formdatalist.find('input[name="capitalRelease"]').val();
                var npLReduced = formdatalist.find('input[name="npLReduced"]').val();
                var remarks = formdatalist.find('input[name="remarks"]').val();
                var totalLegalAndOtherExpense = formdatalist.find('input[name="totalLegalAndOtherExpense"]').val();



                if (proposalType == ''){
                    $('#proposal-details-error-messages').text("Proposal type can not be blank.").removeClass('hidden')
                    return;
                }else if ($.isNumeric(proposalType)){
                    $('#proposal-details-error-messages').text("Proposal type must not be number.").removeClass('hidden');
                    return;
                }


                if (branchName == ''){
                    $('#proposal-details-error-messages').text("Branch name can not be blank.").removeClass('hidden')
                    return;
                }else if ($.isNumeric(branchName)){
                    $('#proposal-details-error-messages').text("Branch name must not be number.").removeClass('hidden');
                    return;
                }


                if (loanAccountNo == ''){
                    $('#proposal-details-error-messages').text("Loan account number can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(loanAccountNo)){
                    $('#proposal-details-error-messages').text("Loan account number must be number.").removeClass('hidden');
                    return;
                }else if (loanAccountNo.length != 15){
                    $('#proposal-details-error-messages').text("Loan account number must be 15 number.").removeClass('hidden');
                    return;
                }

                if (facilityNature == ''){
                    $('#proposal-details-error-messages').text("Facility nature can not be blank.").removeClass('hidden')
                    return;
                }else if ($.isNumeric(facilityNature)){
                    $('#proposal-details-error-messages').text("Facility nature must not be number.").removeClass('hidden');
                    return;
                }


                if (disbursementDate == ''){
                    $('#proposal-details-error-messages').text("Disbursement date can not be blank.").removeClass('hidden')
                    return;
                }


                if (expiryDate == ''){
                    $('#proposal-details-error-messages').text("Expiry date can not be blank.").removeClass('hidden')
                    return;
                }



                if (proposalSendBy == ''){
                    $('#proposal-details-error-messages').text("Proposal send by can not be blank.").removeClass('hidden')
                    return;
                }else if ($.isNumeric(proposalSendBy)){
                    $('#proposal-details-error-messages').text("Proposal send by must not be number.").removeClass('hidden');
                    return;
                }


                if (memoNotePreparedBy == ''){
                    $('#proposal-details-error-messages').text("Memo note prepare by can not be blank.").removeClass('hidden')
                    return;
                }



                if (totalRecovery == ''){
                    $('#proposal-details-error-messages').text("Total recovery can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(totalRecovery)){
                    $('#proposal-details-error-messages').text("Total recovery must be number.").removeClass('hidden');
                    return;
                }


                if (overdue == ''){
                    $('#proposal-details-error-messages').text("Overdue can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(overdue)){
                    $('#proposal-details-error-messages').text("Overdue must be number.").removeClass('hidden');
                    return;
                }




                if (outstanding == ''){
                    $('#proposal-details-error-messages').text("Outstanding can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(outstanding)){
                    $('#proposal-details-error-messages').text("Outstanding must be number.").removeClass('hidden');
                    return;
                }



                if (fillingAmount == ''){
                    $('#proposal-details-error-messages').text("Filling amount can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(fillingAmount)){
                    $('#proposal-details-error-messages').text("Filling amount must be number.").removeClass('hidden');
                    return;
                }



                if (typeOfCase == ''){
                    $('#proposal-details-error-messages').text("Type of case can not be blank.").removeClass('hidden')
                    return;
                }else if ($.isNumeric(typeOfCase)){
                    $('#proposal-details-error-messages').text("Type of case must not be number.").removeClass('hidden');
                    return;
                }



                if (interestSuspense == ''){
                    $('#proposal-details-error-messages').text("Interest suspense can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(interestSuspense)){
                    $('#proposal-details-error-messages').text("Interest suspense must be number.").removeClass('hidden');
                    return;
                }



                if (provision == ''){
                    $('#proposal-details-error-messages').text("Provision can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(provision)){
                    $('#proposal-details-error-messages').text("Provision must be number.").removeClass('hidden');
                    return;
                }



                if (unappliedInterest == ''){
                    $('#proposal-details-error-messages').text("Unapplied interest can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(unappliedInterest)){
                    $('#proposal-details-error-messages').text("Unapplied interest must be number.").removeClass('hidden');
                    return;
                }



                if (totalClaimAmount == ''){
                    $('#proposal-details-error-messages').text("Total claim amount can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(totalClaimAmount)){
                    $('#proposal-details-error-messages').text("Total claim amount must be number.").removeClass('hidden');
                    return;
                }



                if (valueEligibleSecurity == ''){
                    $('#proposal-details-error-messages').text("Value eligible security can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(valueEligibleSecurity)){
                    $('#proposal-details-error-messages').text("Value eligible security must be number.").removeClass('hidden');
                    return;
                }




                if (proposedWaiverUnappliedInterest == ''){
                    $('#proposal-details-error-messages').text("Proposed waiver unapplied interest can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(proposedWaiverUnappliedInterest)){
                    $('#proposal-details-error-messages').text("Proposed waiver unapplied interest must be number.").removeClass('hidden');
                    return;
                }



                if (proposedWaiverInterestSuspense == ''){
                    $('#proposal-details-error-messages').text("Proposed waiver interestt suspense can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(proposedWaiverInterestSuspense)){
                    $('#proposal-details-error-messages').text("Proposed waiver interestt suspense must be number.").removeClass('hidden');
                    return;
                }




                if (proposedWaiverIncome == ''){
                    $('#proposal-details-error-messages').text("Proposed waiver income can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(proposedWaiverIncome)){
                    $('#proposal-details-error-messages').text("Proposed waiver income must be number.").removeClass('hidden');
                    return;
                }



                if (proposedTotalWaiver == ''){
                    $('#proposal-details-error-messages').text("Proposed total waiver can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(proposedTotalWaiver)){
                    $('#proposal-details-error-messages').text("Proposed total waiver must be number.").removeClass('hidden');
                    return;
                }


                if (outstandingBeforeDownPayment == ''){
                    $('#proposal-details-error-messages').text("Outstanding before down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(outstandingBeforeDownPayment)){
                    $('#proposal-details-error-messages').text("Outstanding before down payment must be number.").removeClass('hidden');
                    return;
                }



                if (downPaymentDeterminingCriteria == ''){
                    $('#proposal-details-error-messages').text("Down payment determining criteria can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(downPaymentDeterminingCriteria)){
                    $('#proposal-details-error-messages').text("Down payment determining criteria must be number.").removeClass('hidden');
                    return;
                }



                if (basisObtainingDownPayment == ''){
                    $('#proposal-details-error-messages').text("Basis obtaining down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(basisObtainingDownPayment)){
                    $('#proposal-details-error-messages').text("Basis obtaining down payment must be number.").removeClass('hidden');
                    return;
                }




                if (requiredDownPayment == ''){
                    $('#proposal-details-error-messages').text("Required down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(requiredDownPayment)){
                    $('#proposal-details-error-messages').text("Required down payment must be number.").removeClass('hidden');
                    return;
                }



                if (realizedDownPayment == ''){
                    $('#proposal-details-error-messages').text("Realise down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(realizedDownPayment)){
                    $('#proposal-details-error-messages').text("Realise down payment must be number.").removeClass('hidden');
                    return;
                }


                if (remainingDownPayment == ''){
                    $('#proposal-details-error-messages').text("Remaining down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(remainingDownPayment)){
                    $('#proposal-details-error-messages').text("Remaining down payment must be number.").removeClass('hidden');
                    return;
                }



                if (outstandingAfterDownPayment == ''){
                    $('#proposal-details-error-messages').text("Outstanding after down payment can not be blank.").removeClass('hidden')
                    return;
                }else if (!$.isNumeric(outstandingAfterDownPayment)){
                    $('#proposal-details-error-messages').text("Outstanding after down payment must be number.").removeClass('hidden');
                    return;
                }


                if (existingCaseStatus == ''){
                    $('#proposal-details-error-messages').text("Existing case status can not be blank.").removeClass('hidden')
                    return;
                }

                if (allowableMaxRescheduleMonths == ''){
                    $('#proposal-details-error-messages').text("Allow able max reschedule months can not be blank.").removeClass('hidden')
                    return;
                }


                if (allowedTimeReshedulement == ''){
                    $('#proposal-details-error-messages').text("Allowed time reschedule can not be blank.").removeClass('hidden')
                    return;
                }

                if (relevantSubjectMemo == ''){
                    $('#proposal-details-error-messages').text("Relevant subject memo can not be blank.").removeClass('hidden')
                    return;
                }

                if (dateLastCIBReport == ''){
                    $('#proposal-details-error-messages').text("Date last CIB report can not be blank.").removeClass('hidden')
                    return;
                }


                if (letterIssuingDateBBApproval == ''){
                    $('#proposal-details-error-messages').text("Letter issuing date BBApproval can not be blank.").removeClass('hidden')
                    return;
                }

                if (bBApprovalReceivingDate == ''){
                    $('#proposal-details-error-messages').text("BBApproval receiving date can not be blank.").removeClass('hidden')
                    return;
                }

                if (sanctionIssuingDate == ''){
                    $('#proposal-details-error-messages').text("Sanction issuing date can not be blank.").removeClass('hidden')
                    return;
                }

                if (rescheduleExecutionDate == ''){
                    $('#proposal-details-error-messages').text("Reschedule execution date can not be blank.").removeClass('hidden')
                    return;
                }

                if (rescheduledAccountNo == ''){
                    $('#proposal-details-error-messages').text("Reschedule account number can not be blank.").removeClass('hidden')
                    return;
                }

                if (interestIncome == ''){
                    $('#proposal-details-error-messages').text("Interest income can not be blank.").removeClass('hidden')
                    return;
                }

                if (capitalRelease == ''){
                    $('#proposal-details-error-messages').text("Capital release can not be blank.").removeClass('hidden')
                    return;
                }

                if (npLReduced == ''){
                    $('#proposal-details-error-messages').text("NPL reduced can not be blank.").removeClass('hidden')
                    return;
                }

                if (remarks == ''){
                    $('#proposal-details-error-messages').text("Remarks can not be blank.").removeClass('hidden')
                    return;
                }

                if (totalLegalAndOtherExpense == ''){
                    $('#proposal-details-error-messages').text("Total legal and other expense can not be blank.").removeClass('hidden')
                    return;
                }*/



                $.ajax({
                    type:'POST',
                    url: '/collection/samd/data-entry/proposal-management-rescheduling/proposal-details/save',
                    data: data,
                    enctype: 'multipart/form-data',
                    processData: false,
                    contentType: false,
                    headers: {
                        'X-CSRF-TOKEN': window.csrfToken,
                    },
                    success: function (response, xhr, status) {
                        console.log('root response');
                        console.log(response);
                        $('#modal-proposal-details').modal('toggle');
                        $('#modal-proposal-details').find("input, multiselect").val("");
                        loadRequestsData();
                        swal("Saved Successfully");

                    },
                    error: function (response) {
                        alert("Unsuccessful")
                    }
                })
            })

        })
    </script>
</div>

</body>


</html>
