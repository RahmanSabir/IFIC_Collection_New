<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"></meta>
    <title>Total Facility Limit</title>
</head>
<body>

<div id="layout-cibReport" th:fragment="total-facility-limit">
    <div class="csi-view-form-full-area csi-view-indtable">
        <div class="box-body">

            <div class="form-horizontal csi-view-form" id="facilityLimitDiv">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    </button>
                    <h3 >Total Facility Limit</h3>
                </div>
                <div style="overflow: auto; max-height: 400px;">
                    <table  name="total_facility_limit" id="totalFacilityLimit"
                            class=" table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Account No</th>
                            <th>Customer Name</th>
                            <th>Product Name</th>
                            <th>Limit</th>
                            <th>Outstanding</th>
                            <th>Deposit Amount</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr v-if="totalFacilityLimit" v-for="facility in totalFacilityLimit">
                            <td>{{facility.accountNo}}</td>
                            <td>{{facility.accountName}}</td>
                            <td>{{facility.productDesc}}</td>
                            <td>{{facility.loanLimit}}</td>
                            <td>{{facility.outstanding}}</td>
                            <td>{{facility.deposit}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <script>
                var totalFacilityLimitApp = new Vue({
                    el: '#facilityLimitDiv',
                    data: {
                        loanCustomerName: '',
                        totalFacilityLimit: []
                    },
                    created() {
                        //this.getTotalFacilityLimit(profile_information.customerIdGlobal);
                    },
                    methods: {
                        // getTotalFacilityLimit(customerId){
                        //     let host = window.location.host;
                        //     let url = 'https://' + host + '/loan/api/facility-limit/list?customerNo='+customerId;
                        //     this.$http.get(url,
                        //         {
                        //             credentials: true,
                        //             headers: {
                        //                 'X-CSRF-TOKEN': window.csrfToken,
                        //             }
                        //         }
                        //     ).then(res => {
                        //         this.totalFacilityLimit = res.body;
                        //         console.log('print total facility limit')
                        //         console.log(this.totalFacilityLimit);
                        // }).catch(err => {
                        //         console.log(err);
                        // });
                        // },
                    }
                })
            </script>
        </div>

    </div>

</div>
</body>


</html>
