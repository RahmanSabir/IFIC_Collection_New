<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"/>
    <title>General Info-View</title>
</head>
<body>
<div id="layout-generalPreview" th:fragment="card-general-view">
    <div class="loandetail-area-sp box box-primary">
        <!--<div class="col-md-3">-->
        <!--<img class="lazy-loaded" th:src="@{/images/profile.jpg}" style="height: 150px ;width: 150px;"  alt="Square placeholder image 300px"/>-->
        <!--</div>-->
        <div class="box-header width-border" >
            <div class="box-header with-border csi-view-box-header">
                <label class="box-title" >General Information</label>
            <a class="pull-right "  data-toggle="collapse"  href="#gen_info_card" aria-expanded="true" aria-controls="gen_info_card">
                <i class="accordion_icon js-open-close-gen-info fa fa-minus"></i>
            </a></div>
        </div>
        <div id="gen_info_card" class="collapse in">
        <form method="post" id="generalInfoFormViw">
            <div id="layout-form-general" class="loancaseentry-sp general-div" style="margin-left: 0px">
                <div class="loan-init-details-sp-inner">
                    <input type="hidden" id="card_contract_id" :value="accountInformation.contractNo"></input>
                    <input type="hidden" id="card_client_id"  :value="accountInformation.clientId"></input>
                    <input type="hidden" id="card_card_type" :value="accountInformation.cardType"></input>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Contract Id :</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.contractNo}}</label>
                        <label class="col-sm-3 custom-details-lebel-left">Card No:</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.cardNo}}</label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Client Id :</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.clientId}}</label>

                        <!--<label class="col-sm-3 custom-details-lebel-left">Contract No. :</label>-->
                        <!--<label class="col-sm-3 custom-form-lebel" th:text="${cardAccountBasic?.getCardNo()}"></label>-->
                        <label class="col-sm-3 custom-details-lebel-left">Card Type:</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.cardType}}</label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">VVIP :</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.vvip}}</label>
                        <label class="col-sm-3 custom-details-lebel-left">Monitoring Status : </label>
                        <!--<label class="col-sm-3 custom-form-lebel" th:text="${distributionInfoAgency?.getLoanDualEnum()}"></label>-->
                        <label class="col-sm-3 custom-form-lebel" >{{accountInformation.monitoringStatus}}</label>
                    </div>
                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Active/Inactive :</label>
                        <label class="col-sm-3 custom-form-lebel">{{accountInformation.activeInactiveStatus}}</label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Collector Name :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${distributionInfo?.getDealerName()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Agency Name :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${distributionInfoAgency?.getAgencyName()}"></label>
                    </div>
                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Previous Two Month Collector :</label>
                        <label class="col-sm-3 custom-form-lebel">
                                <span th:each="collector: ${prevCollectors}" th:text="${collector} + ' '"></span>
                        </label>
                        <label class="col-sm-3 custom-details-lebel-left ">Product Type Name :</label>
                        <label class="col-sm-3 custom-form-lebel" id="productTypeName">{{accountInformation.productTypeName}}</label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left ">Secured Card:</label>
                        <label class="col-sm-3 custom-form-lebel" id="secured_card_check" th:text="${accountInformation?.securedCardCheckStatusAgainstFdr==null}?'NO'"></label>
                        <label class="col-sm-3 custom-form-lebel" style="cursor: pointer;" th:if="${accountInformation?.securedCardCheckStatusAgainstFdr!=null}"><u  onclick="showAllFdrFromReportTwoData()">Yes</u></label>

                    </div>

                </div>
            </div>

        </form>
        </div>
    </div>

    <div class="modal fade" id="modal-sam">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h2 class="modal-title">Sam Details</h2>
                </div>

                <div class="modal-body">
                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Account Name :</label>
                        <label class="col-sm-6 custom-form-lebel" th:text="${samDetails?.getAccountName()}"></label>

                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Account No :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getLoanAccountNo()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Schema Code :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getSchemaCode()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Product Unit :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getProductUnit()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Sam Receive Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getSamRecievedDate()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Disbursement Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getDisbursementDate()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Bucket :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getDpdBucket()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Outstanding Amount :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getOutstandingAmount()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Emi Account :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getEmiAccount()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Overdue Amount :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getOverDueAmount()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Minimum Due :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getDueAmount()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Letter Type :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getLetterType()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Remarks :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getRemarks()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Sam Handover Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getSamHandoverDate()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">WriteOff Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getWriteOffDate()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Billing Cycle :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getBillingCycle()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Plastic Cd :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getPlasticCd()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Product Group :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getProductGroup()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Status Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${samDetails?.getStatusDate()}"></label>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-writeOff">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h2 class="modal-title">Write-Off Details</h2>
                </div>

                <div class="modal-body">
                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Account Name :</label>
                        <label class="col-sm-6 custom-form-lebel" th:text="${writeOffDetails?.getLoanAccountName()}"></label>

                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Product Unit :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getPrductUnit()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Account No :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getLoanAccountNo()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Schema Code :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getSchemaCode()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">File Date NiAct :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getFileDateNiAct()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Case Amount NiAct :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCaseAmountNiAct()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">File Date Arthorin :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getFileDateArthorin()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Case Amount Arthorin :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCaseAmountArthorin()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">File Date Penal Code :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getFileDatePenalCode()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Case Amount Penal Code :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCaseAmountPenalCode()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Next Asking Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getNextAskingDate()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Case Status :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCaseStatus()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Case Dealing Person :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCaseDealingPerson()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Lawyear Name :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getLawyearName()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Court Name :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getCourtName()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">Present Outstanding :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getPresentOutstanding()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Auction Notice Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getAuctionNoticeDate()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">N Public Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getnPublicDate()}"></label>
                    </div>

                    <div class="form-group row csi-view-form-group">
                        <label class="col-sm-3 custom-details-lebel-left">Auction Date :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getAuctionDate()}"></label>
                        <label class="col-sm-3 custom-details-lebel-left">WriteOff Account :</label>
                        <label class="col-sm-3 custom-form-lebel" th:text="${writeOffDetails?.getWriteOffAccount()}"></label>
                    </div>

                </div>

            </div>
        </div>
    </div>


    <div class="modal fade" id="modal-fdr-info">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h2 class="modal-title">Fdr  Information </h2>
                </div>

                <div class="modal-body">
                    <div id="card_fdr">
                        <table name="fdr_info" id="fdr"
                               class=" table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th class="text-center">Fdr Value</th>

                            </tr>
                            </thead>
                            <tbody id="card_fdr_tBody">

                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>
        <script>
            function showAllFdrFromReportTwoData(){
                var dt={

                    contractId:$('#card_contract_id').val()
                }
                console.log(dt);
                var token = $("meta[name='_csrf']").attr("content");
                var header = $("meta[name='_csrf_header']").attr("content");
                $.ajax({
                    url: '/collection/card/report-2/fdr/list',
                    type: 'GET',
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    data: dt,
                    beforeSend: function (xhr) {xhr.setRequestHeader(header, token);
                    },
                    success: function (data) {
                        console.log(data.fdrDto);

                        $('#card_fdr_tBody').replaceWith("<tbody id=\"card_fdr_tBody\" >\n" +
                            "\t\t\t\t\t\t\t</tbody>");

                        for (var i = 0; i < data.fdrDto.length; i++) {
                            if (data.fdrDto[i] != null) {
                                var str = "<tr>" +
                                    "<td style=\"text-align:center;\" >" + data.fdrDto[i].fdrValue + "</td>" +
                                    "</tr>";
                                $('#card_fdr_tBody').append(str);
                            }
                        }

                    },
                    error: function (err) {
                        $("#specialAlert").replaceWith("<div class=\"modal-body\" id=\"specialAlert\">\n" +
                            "\t\t\t\t\t</div>");
                        var message = "<ul style='list-style-type:disc'><li>Error in get  Information!</li></ul>";
                        $("#specialAlert").addClass("errorDiv");
                        $("#specialAlert").append(message);
                        $("#exampleModalLong").modal("toggle");
                        console.log(err);
                    }
                });

                $('#modal-fdr-info').modal('show');
            }
        </script>
</div>
</body>
</html>
