<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="card/layouts/main/main-layout">
<head>
    <meta charset="ISO-8859-1"></meta>
    <title>SAMD Npl Resease Loan</title>
</head>
<body>
<div layout:fragment="content" th:remove="tag">
    <style>
        .multiselect, .multiselect__input, .multiselect__single, .multiselect__content {
            font-size: 13px;
        }

        .multiselect__tag {
            font-size: 12px;
        }

        select {
            -webkit-appearance: menulist;
        }
    </style>
    <div class="content-wrapper" >
        <section class="content">
            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <div class="box box-primary">

                        <div class="box-header with-border" style="text-align: center;">
                            <!--<h3 th:if="${temporaryJobDelegation.id == null}" class="box-title">Create Course Of Action</h3>
                            <h3 th:if="${temporaryJobDelegation.id}" class="box-title">Update Course Of Action</h3>-->
                        </div>
                        <form id="app" class="form-horizontal validate" th:action="@{/collection/samd/setup/sam-npl-release/sam-npl-release-loan/create}" method="post"
                        th:object="${samNplReleaseLoan}">
                            <input type="hidden" th:field="*{id}"/>
                            <input type="hidden" name="dpdBucketIds" v-model="getSelectedDpdIds"/>
                            <input type="hidden" name="assetClassificationLoanIds" v-model="getSelectedAssetClassificationLoanIds"/>
                            <input type="hidden" name="productTypeIds" v-model="getSelectedProductTypeIds"/>
                            <div class="box-body">
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Outstanding</label>
                                    <div class="col-sm-6">
                                        <input type="number" step="any" name="outstanding" th:field="*{outstanding}"
                                               class="form-control input-sm required"
                                               placeholder="outstanding"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Recovery</label>
                                    <div class="col-sm-6">
                                        <input type="number" step="any" name="recovery" th:field="*{recovery}"
                                               class="form-control input-sm required"
                                               placeholder="recovery"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Interest Suspense</label>
                                    <div class="col-sm-6">
                                        <input type="number" step="any" name="interestSuspense" th:field="*{interestSuspense}"
                                               class="form-control input-sm required"
                                               placeholder="interestSuspense"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Provision</label>
                                    <div class="col-sm-6">
                                        <input type="text" name="provision" th:field="*{provision}"
                                               class="form-control input-sm required"
                                               placeholder="provision"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Min Dpd</label>
                                    <div class="col-sm-6">
                                        <input type="number" step="any" name="minDpd" th:field="*{minDpd}"
                                               class="form-control input-sm required"
                                               placeholder="minDpd"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div><div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Max Dpd</label>
                                    <div class="col-sm-6">
                                        <input type="number" step="any" name="maxDpd" th:field="*{maxDpd}"
                                               class="form-control input-sm required"
                                               placeholder="maxDpd"/>
                                    </div>
                                    <!--<label class="col-sm-10 text-right text-danger"-->
                                    <!--th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</label>-->
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Bucket:</label>
                                    <div class="col-sm-6">
                                        <multiselect v-model="selectedDpdBucket" placeholder="select Bucket"
                                                     label="bucketName" track-by="id" :options="dpdBucketEntities"
                                                     :multiple="true" :taggable="true"></multiselect>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">CL Status:</label>
                                    <div class="col-sm-6">
                                        <multiselect v-model="selectedAssetClassificationLoanEntities" placeholder="select CL Status"
                                                     label="name" track-by="id" :options="assetClassificationLoanEntities"
                                                     :multiple="true" :taggable="true"></multiselect>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 custom-form-lebel-right required">Product Type:</label>
                                    <div class="col-sm-6">
                                        <multiselect v-model="selectedProductTypes" placeholder="select product type"
                                                     label="name" track-by="id" :options="productTypeEntities"
                                                     :multiple="true" :taggable="true"></multiselect>
                                    </div>
                                </div>

                                <div class="box-footer text-center">
                                    <button type="submit" class="btn btn-info btn-sm ">Submit</button>
                                    <a th:href="@{/collection/samd/setup/sam-npl-release/sam-npl-release-loan/list}" class="btn btn-danger btn-sm">Cancel</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <script th:inline="javascript">
                    /*<![CDATA[*/
                    var dpdBucketEntities = /*[[${dpdBucketEntities}]]*/ [];
                    var selectedDpdBucket = /*[[${selectedDpdBucket}]]*/ [];

                    var assetClassificationLoanEntities = /*[[${assetClassificationLoanEntities}]]*/ [];
                    var selectedAssetClassificationLoanEntities = /*[[${selectedAssetClassificationLoanEntities}]]*/ [];


                    var productTypeEntities = /*[[${productTypeEntities}]]*/ [];
                    var selectedProductTypes = /*[[${selectedProductTypes}]]*/ [];

                    /*]]>*/
                </script>
            </div>
        </section>
    </div>



    <script>
        var  samNplRelease=new Vue({
            el: '#app',
            components: {
                Multiselect: VueMultiselect.default
            },
            data: {
                dpdBucketEntities: [],
                selectedDpdBucket: [],

                assetClassificationLoanEntities: [],
                selectedAssetClassificationLoanEntities: [],

                productTypeEntities: [],
                selectedProductTypes: []

            },
            created: function () {
                this.dpdBucketEntities = Array.isArray(dpdBucketEntities) ? dpdBucketEntities: [];
                this.assetClassificationLoanEntities = Array.isArray(assetClassificationLoanEntities) ? assetClassificationLoanEntities: [];
                this.productTypeEntities = Array.isArray(productTypeEntities) ? productTypeEntities: [];
                this.selectedDpdBucket = selectedDpdBucket;
                this.selectedAssetClassificationLoanEntities = selectedAssetClassificationLoanEntities;
                this.selectedProductTypes = selectedProductTypes;
                console.log(productTypeEntities);
            },
            computed: {

                getSelectedDpdIds: function () {
                    return this.selectedDpdBucket.map(item => {
                        return item.id;
                });
                },

                getSelectedAssetClassificationLoanIds: function () {
                    return this.selectedAssetClassificationLoanEntities.map(item => {
                        return item.id;
                });
                },

                getSelectedProductTypeIds: function () {
                    return this.selectedProductTypes.map(item => {
                        return item.id;
                });
                },


            }
        })

    </script>
</div>
</body>
</html>