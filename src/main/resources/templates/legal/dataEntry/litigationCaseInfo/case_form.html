<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"></meta>
    <title>Case Details</title>
    <style>
        .box-body>.next{
            height: 30px;
            border: 1px solid lightgrey;
           border-radius: 4px;
        }
    </style>
</head>
<body>
<div id="layout-cibReport" th:fragment="content">

    <form id="caseEntryApp" class="form-horizontal">
        <!--<input type="hidden" name="collateralSecurityIds" v-model="getCollateralSecurityIds"/>-->
        <!--<input type="hidden" name="csFixedAssetDetails" v-model="getCsFixedAssetDetails"/>-->
        <div class="box-body" style="padding-left: 20px">
            <div class="form-group">
                <label class="col-sm-4 required">Case Filed </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.caseFiled"
                                 placeholder="Search Case Filed Type"
                                 label="name" track-by="id"
                                 :options="caseFiledTypes"
                                 :multiple="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.caseFiled">
                    {{errors.caseFiled}}
                </label>
            </div>

            <div class="form-group" v-show="isSupremeCourt">
                <label class="col-sm-4 required">Case Filed Sub Type </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.caseFiledSubType"
                                 placeholder="Search Case Filed Sub Type"
                                 label="name" track-by="id"
                                 :options="caseFiledSubTypes"
                                 :multiple="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.caseFiledSubType">
                    {{errors.caseFiledSubType}}
                </label>
            </div>

            <div class="form-group" v-show="caseTypes.length">
                <label class="col-sm-4 required">Nature of suit </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.caseType"
                                 placeholder="Search type of suit"
                                 label="name" track-by="id"
                                 :options="caseTypes"
                                 :multiple="false" :taggable="true" :disabled="isViewPage"></multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.caseType">
                    {{errors.caseType}}
                </label>
            </div>

            <div class="form-group" v-show="isWrit || isByBankCriminalCase">
                <label class="col-sm-4">Sub Case Type </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.caseTypeSubType"
                                 placeholder="Select Sub Case Type"
                                 :options="getCaseTypeSubTypes" :show-labels="false"
                                 :searchable="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.caseTypeSubType">
                    {{errors.caseTypeSubType}}
                </label>
            </div>

            <div class="form-group" v-if="isOtherCaseType">
                <label class="col-sm-4"></label>
                <div class="col-sm-7">
                   <!-- <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Other Suit/Case Details"
                           v-model="litigationCaseInfo.otherCaseType" autocomplete="16"/>-->
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              placeholder="Other Suit/Case Details"
                              v-model="litigationCaseInfo.otherCaseType"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isCaseTypeSubTypeOthers && isByBankCriminalCase">
                <label class="col-sm-4"></label>
                <div class="col-sm-7">
                                        <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                                                  placeholder="Others Sub Case Type Details"
                                                  v-model="litigationCaseInfo.caseTypeSubTypeOthers"></textarea>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required required">LD No</label>
                <div class="col-sm-7">
                    <input type="text" autocomplete="93" class="form-control" :readonly="isViewPage"
                           placeholder="LD No"
                           v-model="litigationCaseInfo.ldNo" required/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.ldNo">
                    {{errors.ldNo}}
                </label>
            </div>

            <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Zone/Region </label>
                <div class="col-sm-7">
                    <!--Object approach-->
                    <multiselect v-model="zone"
                                 placeholder="Search Zone"
                                 label="name" track-by="id"
                                 :options="zones"
                                 :multiple="false" :taggable="true"
                                 :disabled="isViewPage">
                    </multiselect>

                    <!--Only name approach-->
                    <!--<multiselect v-model="litigationCaseInfo.zone"-->
                    <!--placeholder="Select Zone"-->
                    <!--:options="zones" :show-labels="false"-->
                    <!--:searchable="true" :taggable="true" :disabled="isViewPage">-->
                    <!--</multiselect>-->

                    <!--Only name autocomplete-->
                    <!--<input class="form-control" :readonly="isViewPage"-->
                    <!--placeholder="Zone"-->
                    <!--v-model="litigationCaseInfo.zone" list="zones">-->
                    <!--<datalist id="zones">-->
                    <!--<option v-for="zone in zones" :value="zone.name">-->
                    <!--</datalist>-->
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.zone">
                    {{errors.zone}}
                </label>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Branch Name</label>
                <div class="col-sm-7">
                    <!--Branch Object-->
                    <multiselect v-model="branch"
                                 placeholder="Search Branch"
                                 @input="setBranchProperties"
                                 label="branchName" track-by="branchId"
                                 :options="getBranchesByZone"
                                 :multiple="false" :taggable="true"
                                 :disabled="isViewPage">
                    </multiselect>
                    <!--Only Name-->
                    <!--<multiselect v-model="branch"-->
                    <!--@input="setBranchProperties"-->
                    <!--placeholder="Branch Name"-->
                    <!--:options="getBranchesByZone" :show-labels="false"-->
                    <!--:searchable="true" :taggable="true" :disabled="isViewPage">-->
                    <!--</multiselect>-->
                    <!--Manual input with Auto Complete-->
                    <!--<input class="form-control" :readonly="isViewPage"-->
                    <!--placeholder="Branch Name"-->
                    <!--v-model="litigationCaseInfo.branchName" list="branchNames">-->
                    <!--<datalist id="branchNames">-->
                    <!--<option v-for="branch in getBranchesByZone" :value="branch">-->
                    <!--</datalist>-->
                </div>
            </div>

            <div class="form-group" v-show="false">
                <label class="col-sm-4 required">Branch Code</label>
                <div class="col-sm-7">
                    <input class="form-control" :readonly="isViewPage"
                           placeholder="Branch Code"
                           v-model="litigationCaseInfo.branchCode">
                </div>
            </div>

            <div class="form-group" v-show="isFraud">
                <label class="col-sm-4 required">Type of fraud</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Type of fraud"
                           v-model="litigationCaseInfo.typeOfFraud" autocomplete="17"/>
                </div>
            </div>

            <div class="form-group" v-if="isFraud || isByBankOrCrCaseOther">
                <label class="col-sm-4 required">Account Name <span
                        v-if="isFraud"> (if any)</span></label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Account Name"
                           v-model="litigationCaseInfo.nameOfAcc" autocomplete="18"/>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinExecution || isFraud">
                <label class="col-sm-4 required">
                    Account NO
                    <span v-if="isFraud">(If Any)</span>
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Account NO"
                           onchange="caseEntryApp.getAccountInfoFromApi(caseEntryApp.litigationCaseInfo.customerAccNum)"
                           v-model="litigationCaseInfo.customerAccNum" autocomplete="19"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isNIAct || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Name of the Account</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Name of the Account"
                           v-model="litigationCaseInfo.nameOfAcc" autocomplete="20"/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.nameOfAcc">
                    {{errors.nameOfAcc}}
                </label>
            </div>

            <div class="form-group" v-if="isWrit">
                <label class="col-sm-4 required">Nature of writ </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.natureOfWrit"
                                 placeholder="Select"
                                 :options="['Auction', 'Artharin', 'NI Act', 'CIB', 'Others']"
                                 :show-labels="false"
                                 :searchable="true" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
            </div>

            <div class="form-group"
                 v-if="isNatureOfWritOther">
                <label class="col-sm-4"></label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              placeholder="Nature of Writ Other"
                              v-model="litigationCaseInfo.natureOfWritOther"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Petitioner's Name</label>
                <div class="col-sm-7">
                    <input class="form-control" :readonly="isViewPage"
                           placeholder="Petitioner's Name"
                           v-model="litigationCaseInfo.petitionerName" list="petitionerNames">
                    <datalist id="petitionerNames">
                        <option value="Borrower">
                        <option value="Guarantor">
                        <option value="Third Party">
                    </datalist>
                </div>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Opposite party</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Opposite party"
                           v-model="litigationCaseInfo.oppositePartyName" autocomplete="21"/>
                </div>
            </div>

            <div class="form-group" v-if="isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4 required">Borrower's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Borrower's Name"
                           v-model="litigationCaseInfo.borrowerName" autocomplete="22"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isAgainstBankCriminalCase">
                <label class="col-sm-4 required">Plaintiff's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Plaintiff's Name"
                           v-model="litigationCaseInfo.plaintiffName" autocomplete="23"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 required" v-if="isNIAct || isAgainstBankCriminalCase">Accused Name</label>
                <label class="col-sm-4 required" v-if="isByBankOrCrCaseOther">
                    Name Of the Accused
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Accused Name"
                           v-model="litigationCaseInfo.accusedName" autocomplete="24"/>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4 required">Borrower's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Borrower's Name"
                           v-model="litigationCaseInfo.borrowerName" autocomplete="25"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 required"
                       v-if="isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                    Customer's CIF Number
                </label>
                <label class="col-sm-4 required"
                       v-if="!isNIAct && !isByBankOrCrCaseOther && !isAgainstBankCriminalCase">
                    Customer's CIF No
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Customer's CIF No"
                           v-model="litigationCaseInfo.customerCifNo" autocomplete="26"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 required"
                       v-if="isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                    Customer's Loan A/c Number
                </label>
                <label class="col-sm-4 required"
                       v-if="!isNIAct && !isByBankOrCrCaseOther && !isAgainstBankCriminalCase">
                    Customer's Loan A/c No
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Customer's Loan A/c No"
                           onchange="caseEntryApp.getAccountInfoFromApi(caseEntryApp.litigationCaseInfo.customerAccNum)"
                           v-model="litigationCaseInfo.customerAccNum" autocomplete="27"/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.customerAccNum">
                    {{errors.customerAccNum}}
                </label>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 "
                       v-if="isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                    RM Name
                </label>
                <label class="col-sm-4 "
                       v-if="!isNIAct && !isByBankOrCrCaseOther && !isAgainstBankCriminalCase">
                    RM Name
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="RM Name"
                           v-model="litigationCaseInfo.rmName" autocomplete="27"/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.customerAccNum">
                    {{errors.rmName}}
                </label>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 "
                       v-if="isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                    Supervisor's Name
                </label>
                <label class="col-sm-4 "
                       v-if="!isNIAct && !isByBankOrCrCaseOther && !isAgainstBankCriminalCase">
                    Supervisor's Name
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Supervisor's Name"
                           v-model="litigationCaseInfo.supervisorName" autocomplete="27"/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.superVisorName">
                    {{errors.rmName}}
                </label>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4">Client ID (For Credit Card)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Client ID"
                           onchange="caseEntryApp.getCardInfoFromApi(caseEntryApp.litigationCaseInfo.clientId)"
                           v-model="litigationCaseInfo.clientId" autocomplete="28"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isAgainstBankCriminalCase">
                <label class="col-sm-4 required">Business segment</label>
                <div class="col-sm-7">
                  <!--  <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Business segment"
                           v-model="litigationCaseInfo.businessSegment" autocomplete="29"/>-->
                    <multiselect v-model="litigationCaseInfo.businessSegment"
                                 placeholder="Select Business segment"
                                 :options="['CBD','SME','RMG','Retail']" :show-labels="false"
                                 :searchable="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
            </div>


            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankOthers">
                <label class="col-sm-4 required">Plaintiff's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Plaintiff's Name"
                           v-model="litigationCaseInfo.plaintiffName" autocomplete="30"/>
                </div>
            </div>


            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther">
                <label class="col-sm-4">Plaintiff's Designation</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Plaintiff's Designation"
                           v-model="litigationCaseInfo.plaintiffDesignation" autocomplete="31"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther">
                <label class="col-sm-4">Plaintiff's Phone No</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Plaintiff's Phone No"
                           v-model="litigationCaseInfo.plaintiffPhoneNo" autocomplete="32"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther">
                <label class="col-sm-4">Entering date</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.plaintiffChangesDate"
                               name="plaintiffChangesDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther">
                <label class="col-sm-4">Plaintiff's Change</label>
                <div class="col-sm-7">
                    <multiselect placeholder="Plaintiff Changes" :options="PlaintiffChanges" :show-labels="false"
                                 :searchable="true" :taggable="true">
                    </multiselect>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit">
                <label class="col-sm-4">Plaintiff change</label>
                <div class="col-sm-7">
                    <multiselect placeholder="Plaintiff changes"
                                 :options="PlaintiffChanges" :show-labels="false"
                                 :searchable="true" :taggable="true">
                    </multiselect>
                </div>
            </div>



            <div class="form-group" v-if="isAgainstBankOthers">
                <label class="col-sm-4 required">Accused Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Accused Name"
                           v-model="litigationCaseInfo.accusedName" autocomplete="33"/>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Techniques applied to make fraud</label>
                <div class="col-sm-7">
                                        <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                                                  v-model="litigationCaseInfo.techniquesTofraud"></textarea>
                </div>
            </div>

            <div class="form-group" v-show="isFraud">
                <label class="col-sm-4">Date of occurrence</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfOccurrence"
                               name="dateOfOccurrence"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-show="isFraud">
                <label class="col-sm-4 ">Date of detection</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfDetection"
                               name="dateOfDetection"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">
                    Amount involved
                </label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="94" class="form-control" :readonly="isViewPage"
                           placeholder="Amount involved"
                           v-model="litigationCaseInfo.amountInvolved"/>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Adjustment of the defrauded amount</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="95" class="form-control" :readonly="isViewPage"
                           placeholder="Amount involved"
                           v-model="litigationCaseInfo.adjustmentOfDefraudAmount"/>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Name of the officers/ employee/ others
                    involved</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.nameOfOfficerEmployeeOtherInvolved"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Action taken against delinquent </label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.actionAgainstDelinquent"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Current status of the case</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.currentStatusOfCase"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Initiatives taken to prevent recurrence of the
                    incidents</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.initiativesToPreventIncidentRecurrence"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4">Remarks</label>
                <div class="col-sm-7">
                    <textarea maxlength="1000" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.remarks"></textarea>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution || isNIAct || isWrit || isSupremeCourtNotWrit
             || isMoneySuit || isCivilSuit || isTitleSuit || isMoneyOrCivilOrTitleSuit ||
            isAgainstBankCriminalCase || isAgainstBankOthers || isFraud || isCaseTypeSubTypeOthers || isOtherCaseType
            || isByBankOrCrCaseOther || isNatureOfWritOther || isOtherCourt || isOtherCaseStatus">
                <label class="col-sm-4">Outstanding</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="96" class="form-control" :readonly="isViewPage"
                           placeholder="Outstanding"
                           v-model="litigationCaseInfo.outstanding"/>
                </div>
            </div>

            <div class="form-group" v-if="isNIAct">
                <label class="col-sm-4">NI Act case claim amount</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="96" class="form-control" :readonly="isViewPage"
                           placeholder="NI Act case claim amount"
                           v-model="litigationCaseInfo.niActCaseClaimAmount"/>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4">Other defendant's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Other defendant's Name"
                           v-model="litigationCaseInfo.otherDefendantName" autocomplete="34"/>
                </div>
            </div>

            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4">Defendant's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" :readonly="isViewPage"
                           placeholder="Other defendant's Name"
                           v-model="litigationCaseInfo.defendantName" autocomplete="35"/>
                </div>
            </div>




            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit || isAgainstBankOthers">
                <label class="col-sm-4 required"> Customer's CIF Number </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="37" :readonly="isViewPage"
                           placeholder="Customer's CIF No"
                           v-model="litigationCaseInfo.customerCifNo"/>
                </div>
            </div>

            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit || isAgainstBankOthers">
                <label class="col-sm-4 required"> Customer's Loan A/c Number </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="38" :readonly="isViewPage"
                           placeholder="Customer's Loan A/c No" pattern="|[\w]{16}"
                           onchange="caseEntryApp.getAccountInfoFromApi(caseEntryApp.litigationCaseInfo.customerAccNum)"
                           v-model="litigationCaseInfo.customerAccNum"/>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.customerAccNum">
                    {{errors.customerAccNum}}
                </label>
            </div>

            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit || isAgainstBankOthers">
                <label class="col-sm-4 required">Business segment</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="39" :readonly="isViewPage"
                           placeholder="Business segment"
                           v-model="litigationCaseInfo.businessSegment"/>
                </div>
            </div>

            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4 required">Comment And Its Impact On The
                    Bank</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              v-model="litigationCaseInfo.commentImpactOnBank"></textarea>
                </div>
            </div>
            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isFraud">
                <label class="col-sm-4 required"
                       v-if="isArtharinSuit || isArtharinExecution || isNIAct || isMoneyOrCivilOrTitleSuit ">
                    Suit/Case Number
                </label>
                <label class="col-sm-4 required"
                       v-if="isByBankOrCrCaseOther || isAgainstBankCriminalCase || isAgainstBankOthers">
                    Case Number
                </label>
                <label class="col-sm-4 required" v-if="isFraud">Case Number</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="40" :readonly="isViewPage"
                           placeholder="Suit/Case Number"
                           v-model="litigationCaseInfo.caseNumber"/>
                </div>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4 required" v-if="isFraud">Section</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="41" :readonly="isViewPage"
                           placeholder="Section"
                           v-model="litigationCaseInfo.section"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4 required" v-if="isArtharinSuit || isArtharinExecution">Case/Filing Year</label>
                <label class="col-sm-4 required"
                       v-if="isNIAct|| isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers">Case
                    Year</label>
                <!--<div class="col-sm-7 date">-->
                <!--<div class="input-group date"-->
                <!--data-provide="datepicker"-->
                <!--data-date-format="yyyy"-->
                <!--data-date-viewMode="years"-->
                <!--style="z-index: 0">-->
                <!--<div class="input-group-addon">-->
                <!--<i class="fa fa-calendar"></i>-->
                <!--</div>-->
                <!--<input type="text"  :disabled="isViewPage"-->
                <!--v-model="litigationCaseInfo.caseYear"-->
                <!--name="caseYear"-->
                <!--onchange="setPropertyValueFromInput(this)"-->
                <!--class="form-control pull-right lt-date"-->
                <!--placeholder="Year">-->
                <!--</div>-->
                <!--</div>-->
                <div class="col-sm-7">
                    <input type="number" autocomplete="97" class="form-control" :readonly="isViewPage"
                           placeholder="Case/Filing Year"
                           min="1971" max="2100"
                           v-model="litigationCaseInfo.caseYear"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4 required"
                       v-if="isByBankOrCrCaseOther || isAgainstBankCriminalCase || isAgainstBankOthers || isNIAct">
                    Name Of Court
                </label>
                <label class="col-sm-4 required"
                       v-if="isArtharinSuit || isArtharinExecution || isMoneyOrCivilOrTitleSuit">
                    Court Name
                </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.court"
                                 placeholder="Search Court"
                                 label="name" track-by="id"
                                 :options="courts"
                                 :multiple="false" :taggable="true" :disabled="isViewPage"></multiselect>
                </div>
            </div>

            <div class="form-group"
                 v-if="isOtherCourt && (isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit)">
                <label class="col-sm-4 required"></label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              placeholder="Other Court details"
                              v-model="litigationCaseInfo.otherCourt">
                                        </textarea>
                </div>
            </div>

            <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Division </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.division"
                                 placeholder="Select Division"
                                 :options="divisions" :show-labels="false"
                                 :searchable="true" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.division">
                    {{errors.division}}
                </label>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">District </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.district"
                                 placeholder="Select District"
                                 :options="getDistrictsByDivision" :show-labels="false"
                                 :searchable="true" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.district">
                    {{errors.district}}
                </label>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required" v-if="isWrit">Writ Number</label>
                <label class="col-sm-4 required" v-if="isSupremeCourtNotWrit">Case Number</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="42" :readonly="isViewPage"
                           placeholder="Case Number"
                           v-model="litigationCaseInfo.caseNumber"/>
                </div>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Case Year</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="98" class="form-control" :readonly="isViewPage"
                           placeholder="Case Year"
                           v-model="litigationCaseInfo.caseYear"/>
                </div>
            </div>

            <div class="form-group" v-show="isArtharinExecution">
                <label class="col-sm-4 required">Date of Filing (AR)</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfFilingAR"
                               name="dateOfFilingAR"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                    <label class="col-sm-7 col-sm-offset-4 text-danger"
                           v-show="errors.dateOfFilingAR">
                        {{errors.dateOfFilingAR}}
                    </label>
                </div>
            </div>

            <div class="form-group" v-show="isArtharinExecution">
                <label class="col-sm-4 required">Date of Filing (EX)</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfFiling"
                               name="dateOfFiling"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date" placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.dateOfFiling">
                    {{errors.dateOfFiling}}
                </label>
            </div>

            <div class="form-group"
                 v-show="isArtharinSuit || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required" v-if="isArtharinSuit">Date of Filing (AR)</label>
                <label class="col-sm-4 required" v-if="!isArtharinSuit">Date of Filing</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfFiling"
                               name="dateOfFiling"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date" placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.dateOfFiling">
                    {{errors.dateOfFiling}}
                </label>
            </div>

            <div class="form-group" v-if="isByBankOrCrCaseOther">
                <label class="col-sm-4">
                    Amount (If involved)
                </label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="99" class="form-control" :readonly="isViewPage"
                           placeholder="Amount involved"
                           v-model="litigationCaseInfo.amountInvolved"/>
                </div>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Filed by</label>
                <div class="col-sm-7">
                    <select class="form-control" :readonly="isViewPage"
                            placeholder="Filed by"
                            v-model="litigationCaseInfo.byWhomFiled">
                        <option :value="'By Bank'">By Bank</option>
                        <option :value="'Against Bank'">Against Bank</option>
                    </select>
                </div>
            </div>

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Subject Matter of the case</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="43" :readonly="isViewPage"
                           placeholder="Subject Matter of the case"
                           v-model="litigationCaseInfo.subjectMatterOfCase"/>
                </div>
            </div>

            <div class="form-group"
                 v-show="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">First Order date</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.firstOrderDate"
                               name="firstOrderDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date" placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-show="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Hearing Date</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.hearingDate"
                               name="hearingDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date" placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinExecution">
                <label class="col-sm-4 required">Suit Value (AR)</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="100" class="form-control" :readonly="isViewPage"
                           placeholder="Suit Value (AR)"
                           v-model="litigationCaseInfo.suitValueAr"/>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinExecution">
                <label class="col-sm-4 required">Suit Value (Execution)</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="101" class="form-control" :readonly="isViewPage"
                           placeholder="Suit Value (Execution)"
                           v-model="litigationCaseInfo.suitValue"/>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4 required" v-if="isArtharinSuit">Suit Value (AR)</label>
                <label class="col-sm-4 required" v-if="isMoneyOrCivilOrTitleSuit">Suit Value</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="102" class="form-control" :readonly="isViewPage"
                           placeholder="Suit Value"
                           v-model="litigationCaseInfo.suitValue"/>
                </div>
            </div>

            <div class="form-group" v-if="isNIAct">
                <label class="col-sm-4 required">Cheque Amount</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="103" class="form-control" :readonly="isViewPage"
                           placeholder="Cheque Amount"
                           v-model="litigationCaseInfo.chequeAmount"/>
                </div>
            </div>

            <!----------------next Date work--------------------------->

            <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isFraud">
                <label class="col-sm-4 ">
                    BLA Attendance History
                </label>
                <div class="col-sm-3">
                     <span v-if="!!litigationCaseInfo.id" :data-caseid="litigationCaseInfo.id" title="BLA Attendance History" class="btn btn-md btn-success btn-view-bla-attendance-history"
                           style="cursor: pointer;">
                     <i class="fa fa-history"></i>
                </span>
                </div>
            </div>


            <div v-for="(blaAttendance, index) in litigationCaseInfo.blaAttendanceHistoryList">
                <div class="form-group"
                     v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isFraud">
                    <label class="col-sm-3 custom-form-lebel-right"
                           :class="blaAttendance.nextDateFixed ? 'required' : ''">
                        Next date
                    </label>
                    <div class="col-sm-3">
                        <select :disabled="isViewPage"
                                v-model="blaAttendance.nextDateFixed"
                                @change="clearFieldsWithFlag(blaAttendance.nextDateFixed, 'nextDate')"
                                class="form-control">
                            <option :value="false">Not Fixed</option>
                            <option :value="true">Fixed</option>
                        </select>
                    </div>

                    <div class="col-sm-4"
                         v-show="blaAttendance.nextDateFixed">
                        <label class="col-sm-3 custom-form-lebel-right">Date:</label>
                        <div class="col-sm-9 date">
                            <div class="input-group date" >
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <vuejs-datepicker format="dd/MMM/yyyy" id="nextDate" placeholder="dd/MMM/yyyy" class="next" name="nextDate" v-model="blaAttendance.nextDate" ></vuejs-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <button type="button" @click="addNewNextDate"  v-if="!isViewPage && litigationCaseInfo.blaAttendanceHistoryList.length - 1 == index"
                                class="pull-left btn btn-success btn-md center-block" >
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        <button @click="removeNewNextDate(index),disbaleBlaAttendance(blaAttendance)" v-if="litigationCaseInfo.blaAttendanceHistoryList.length > 1" type="button" class="pull-right btn btn-danger btn-md center-block">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>

                </div>

                <div class="form-group" v-if="isArtharinSuit" v-show="blaAttendance.nextDateFixed">
                    <label class="col-sm-4 text-right">Contested Type</label>
                    <div class="col-sm-7">
                        <select :disabled="isViewPage" class="form-control"
                                @change="getCourseOfActionsByContested(litigationCaseInfo.caseType.id, blaAttendance.courseOfActionContestedType)"
                                v-model="blaAttendance.courseOfActionContestedType">
                            <option :value="null">Select Course of Action Type</option>
                            <option :value='"Contested"'>Contested</option>
                            <option :value='"Not Contested"'>Not Contested</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" v-show="blaAttendance.nextDateFixed"
                     v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                    <label class="col-sm-4 text-right">Course of Action</label>
                    <div class="col-sm-7">
                        <multiselect v-model="blaAttendance.blaAttendanceHistoryList"
                                     placeholder="Search Course of Action"
                                     label="name" track-by="id"
                                     :options="courseOfActions"
                                     @input="getSelectedCourseOfActionId(blaAttendance,index)"
                                     :multiple="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                    </div>
                </div>


                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(5) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">
                        Sub: Possession in favour of Bank
                    </label>
                    <div class="col-sm-7">
                        <select :disabled="isViewPage" v-model="blaAttendance.possessionInFavourOfBank5"
                                class="form-control">
                            <option :value="false">No</option>
                            <option :value="true">Yes</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Registration Date</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="registrationDate" placeholder="dd/MMM/yyyy"  name="registrationDate" v-model="blaAttendance.registrationDate" ></vuejs-datepicker>
                        </div>
                    </div>

                </div>

                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Deed No</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" autocomplete="44" :readonly="isViewPage"
                               placeholder="Deed No"
                               v-model="blaAttendance.deedNo"/>
                    </div>
                </div>


                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Deed Date</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="deedDate" placeholder="dd/MMM/yyyy"  name="deedDate" v-model="blaAttendance.deedDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Application for mutation</label>
                    <div class="col-sm-7">
                        <select :disabled="isViewPage" v-model="blaAttendance.applicationForMutation"
                                class="form-control">
                            <option :value="false">No</option>
                            <option :value="true">Yes</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Mutation completion date</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="mutationDate" placeholder="dd/MMM/yyyy"  name="mutationDate" v-model="blaAttendance.mutationDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Possession in favour of Bank</label>
                    <div class="col-sm-7">
                        <select :disabled="isViewPage" v-model="blaAttendance.possessionInFavourOfBank7"
                                class="form-control">
                            <option :value="false">No</option>
                            <option :value="true">Yes</option>
                        </select>
                    </div>
                </div>
                <div class="form-group" v-if="isArtharinExecution && isEqual(blaAttendance.courseOfActionName, 'Certificate u/s 33(7) of ARA issued in  favour of Bank')">
                    <label class="col-sm-4 text-right">Property disputed</label>
                    <div class="col-sm-7">
                    <textarea maxlength="250" :readonly="isViewPage"
                              placeholder="Property disputed"
                              v-model="blaAttendance.propertyDisputed"
                              class="form-control"></textarea>
                    </div>

                </div>


                <div class="form-group" v-show="blaAttendance.nextDateFixed"
                     v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                    <label class="col-sm-4 text-right">BLA Attendance</label>
                    <div class="col-sm-7">
                        <select :disabled="isViewPage" v-model="blaAttendance.blaAttendance" class="form-control">
                            <option :value="false">No</option>
                            <option :value="true">Yes</option>
                        </select>
                    </div>

                </div>

            </div>







            <!--------------------------------------Next Date work end------------------------------------->




            <div class="form-group" v-if="isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4 required">If land (details)</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" :readonly="isViewPage"
                              placeholder="If land"
                              v-model="litigationCaseInfo.landDetails"
                              class="form-control"></textarea>
                </div>
            </div>

           <!-- <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '5')">
                <label class="col-sm-4">
                    Sub: Possession in favour of Bank:
                </label>
                <div class="col-sm-7">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.possessionInFavourOfBank"
                            class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Registration Date</label>
                <div class="col-sm-7 date">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.registrationDate"
                               name="registrationDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Deed No</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="44" :readonly="isViewPage"
                           placeholder="Deed No"
                           v-model="litigationCaseInfo.deedNo"/>
                </div>
            </div>


            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Deed Date</label>
                <div class="col-sm-7 date">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.deedDate"
                               name="deedDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Application for mutation</label>
                <div class="col-sm-7">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.applicationForMutation"
                            class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Mutation completion date</label>
                <div class="col-sm-7 date">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.mutationDate"
                               name="mutationDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Possession in favour of Bank</label>
                <div class="col-sm-7">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.possessionInFavourOfBank"
                            class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>
            </div>

            <div class="form-group" v-if="isEqual(getCourseOfActionExIdentifier, '7')">
                <label class="col-sm-4">Property disputed</label>
                <div class="col-sm-7">
                    <textarea maxlength="250" :readonly="isViewPage"
                              placeholder="Property disputed"
                              v-model="litigationCaseInfo.propertyDisputed"
                              class="form-control"></textarea>
                </div>

            </div>-->

            <div class="form-group"
                 v-if="isOtherCourseOfAction && (isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit)">
                <label class="col-sm-4 required"></label>
                <div class="col-sm-7">
                    <textarea maxlength="250" :readonly="isViewPage"
                              placeholder="Other Course Of Action"
                              v-model="litigationCaseInfo.otherCourseOfAction"
                              class="form-control"></textarea>
                </div>

            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4">NI Act Case No. (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="45" :readonly="isViewPage"
                           placeholder="NI Act Case No"
                           v-model="litigationCaseInfo.niActCaseNo"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isNIAct || isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4">Artharin suit No. (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="46" :readonly="isViewPage"
                           placeholder="Artharin suit No"
                           v-model="litigationCaseInfo.artharinSuitNo"/>
                </div>
            </div>

            <div class="form-group" v-if="isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4">NI Act Case No. (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="47" :readonly="isViewPage"
                           placeholder="NI Act Case No"
                           v-model="litigationCaseInfo.niActCaseNo"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4">Writ Petition No (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="48" :readonly="isViewPage"
                           placeholder="Writ Petition No"
                           v-model="litigationCaseInfo.writPetitionNum"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isAgainstBankCriminalCase || isAgainstBankOthers">
                <label class="col-sm-4"
                       v-if="isNIAct || isAgainstBankCriminalCase || isAgainstBankOthers">
                    Others suit/case (if any)
                </label>
                <label class="col-sm-4 required"
                       v-if="isArtharinSuit || isArtharinExecution">
                    Others (if any)
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="49" :readonly="isViewPage"
                           placeholder="Others"
                           v-model="litigationCaseInfo.others"/>
                </div>
            </div>

            <!--<div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">BLA Attendance</label>
                <div class="col-sm-5">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.blaAttendance" class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>

                <div class="col-sm-1">
                    <span v-if="!!litigationCaseInfo.id" :data-caseid="litigationCaseInfo.id" title="BLA Attendance History" class="btn btn-md btn-success btn-view-bla-attendance-history"
                          style="cursor: pointer;">
                         <i class="fa fa-history"></i>
                    </span>
                </div>
            </div>-->

            <div class="form-group" v-if="isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4">Amount involved</label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="104" class="form-control" :readonly="isViewPage"
                           placeholder="Amount involved"
                           v-model="litigationCaseInfo.amountInvolved"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-3 required">Written-Off</label>
                <div class="col-sm-3">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.writtenOff" class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>

                <div v-if="isWrittenOffYes" class="col-sm-3">
                    <input type="number" class="form-control" :readonly="isViewPage" v-model="litigationCaseInfo.writtenOffAmount">
                </div>

                <div v-if="isWrittenOffYes" class="col-sm-3">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.writtenOffDate"
                               name="writtenOffDate"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly/>
                    </div>
                </div>

            </div>

            <!--<div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther">
                <label class="col-sm-3 custom-form-lebel-right">
                    Recovery Before Case
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="105" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount" :change="calculateTotalRecovery()"
                           v-model="litigationCaseInfo.recoveryBeforeCaseAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveryBeforeCaseAmount">
                    <label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveryBeforeCaseDate"
                                   name="recoveryBeforeCaseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>-->

            <div  v-for="(recoveryBefore, index) in litigationCaseInfo.recoveryBeforeCaseDetailsList">
                <div class="form-group"
                     v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther">
                    <label class="col-sm-3 custom-form-lebel-right">
                        Recovery Before Case
                    </label>
                    <div class="col-sm-3">
                        <input type="number" autocomplete="105" class="form-control" :readonly="isViewPage"
                               placeholder="Recovery anount" :change="calculateTotalRecovery()"
                               v-model="recoveryBefore.recoveryBeforeCaseAmount"/>
                    </div>

                    <div class="col-sm-4" v-show="recoveryBefore.recoveryBeforeCaseAmount">
                        <label class="col-sm-3 text-right">Date</label>
                        <div class="col-sm-6 date">
                            <div class="input-group date" >
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <vuejs-datepicker format="dd/MMM/yyyy" id="recoveryBeforeCaseDate" placeholder="dd/MMM/yyyy"  name="recoveryBeforeCaseDate" v-model="recoveryBefore.recoveryBeforeCaseDate" ></vuejs-datepicker>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-2">
                        <button type="button" @click="addNewRecoveryBeforeCase"
                                class="pull-left btn btn-success btn-md center-block" v-if="!isViewPage && litigationCaseInfo.recoveryBeforeCaseDetailsList.length - 1 == index">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        <button @click="disbaleRecoveryBeforeCaseSec(recoveryBefore),removeRecoverBeforeCase(index)" v-if="litigationCaseInfo.recoveryBeforeCaseDetailsList.length > 1" type="button" class="pull-right btn btn-danger btn-md center-block">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>

                   <!-- <label class="col-sm-7 col-sm-offset-4 text-danger"
                           v-show="!!legal.errors">
                        {{legal.errors}}
                    </label>-->
                </div>
            </div>



            <!--<div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther">
                <label class="col-sm-3 custom-form-lebel-right">
                    Recovery After Case
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="106" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount" :change="calculateTotalRecovery()"
                           v-model="litigationCaseInfo.recoveryAfterCaseAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveryAfterCaseAmount">
                    <label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveryAfterCaseDate"
                                   name="recoveryAfterCaseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>-->

            <div  v-for="(recoveryAfter, index) in litigationCaseInfo.recoveryAfterCaseDetailsList">
                <div class="form-group"
                     v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther">
                    <label class="col-sm-3 custom-form-lebel-right">
                        Recovery After Case
                    </label>
                    <div class="col-sm-3">
                        <input type="number" autocomplete="105" class="form-control" :readonly="isViewPage"
                               placeholder="Recovery amount" :change="calculateTotalRecovery()"
                               v-model="recoveryAfter.recoveryAfterCaseAmount"/>
                    </div>

                    <div class="col-sm-4" v-show="recoveryAfter.recoveryAfterCaseAmount">
                        <label class="col-sm-3 text-right">Date</label>
                        <div class="col-sm-6 date">
                            <div class="input-group date" >
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <vuejs-datepicker format="dd/MMM/yyyy" id="recoveryAfterCaseDate" placeholder="dd/MMM/yyyy"  name="recoveryAfterCaseDate" v-model="recoveryAfter.recoveryAfterCaseDate" ></vuejs-datepicker>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-2">
                        <button type="button" @click="addNewRecoveryAfterCase"
                                class="pull-left btn btn-success btn-md center-block" v-if="!isViewPage && litigationCaseInfo.recoveryAfterCaseDetailsList.length - 1 == index">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        <button @click="disbaleRecoveryAfterCaseSec(recoveryAfter),removeRecoverAfterCase(index)" v-if="litigationCaseInfo.recoveryAfterCaseDetailsList.length > 1" type="button" class="pull-right btn btn-danger btn-md center-block">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>

                    <!-- <label class="col-sm-7 col-sm-offset-4 text-danger"
                            v-show="!!legal.errors">
                         {{legal.errors}}
                     </label>-->
                </div>
            </div>

            <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther">
                <label class="col-sm-3 custom-form-lebel-right">
                    Total Recovery Amount
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="107" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount"
                           v-model="litigationCaseInfo.recoveredAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveredAmount">
                    <!--<label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveredAmountDate"
                                   name="recoveredAmountDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>-->
                </div>
            </div>

            <!-------------------------------shahin legal expense--------------------------->

            <div class="form-group"  v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">
                <label class="col-sm-4 ">
                   Total Legal Expense Amount
                </label>
                <div class="col-sm-7">
                    <input type="number" name="litigationCaseInfo.totalLegalExpenseAmount" autocomplete="108" class="form-control" :readonly="isViewPage"
                           placeholder="Total Legal Expense Amount"
                           :value="totalLegalExpenseAmount"/>
                </div>
            </div>

            <div v-for="(legal, index) in litigationCaseInfo.legalExpenseDetailsEntityList" v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || (isByBankCriminalCase && isFraud )">
                <div class="form-group" >

                    <label class="col-sm-4 custom-form-lebel-right">
                        Legal expenses
                    </label>
                    <div class="col-sm-5">
                        <multiselect v-model="legal.legalExpenseDetailsEntityList"
                                     placeholder="Select Legal Expense"
                                     label="legalExpenseName" track-by="id"
                                     :options="legalExpenses" @input="getSelectedLegalExpenseId(legal,index)"
                                     :multiple="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                        <!-- <select class="form-control" name="legalExpenseName" v-model="legal.legalExpenseName">
                             <option>Select One</option>
                             <option v-for="expense in legalExpenses" :value="expense.legalExpenseName">{{expense.legalExpenseName}}</option>
                         </select>-->
                    </div>
                    <div class="col-sm-2">
                        <button type="button" @click="addNewLegalExpense"
                                class="pull-left btn btn-success btn-md center-block" v-if="!isViewPage && litigationCaseInfo.legalExpenseDetailsEntityList.length - 1 == index">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        <button @click="disbaleLegalSec(legal),removeLegalExpense(index)" v-if="litigationCaseInfo.legalExpenseDetailsEntityList.length > 1" type="button" class="pull-right btn btn-danger btn-md center-block">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>

                    <label class="col-sm-7 col-sm-offset-4 text-danger"
                           v-show="!!legal.errors">
                        {{legal.errors}}
                    </label>
                </div>




                <!------------------------------legal common by shahin------------------------------->

                <div class="form-group" v-show="isMediationCost(index) || isMiscellaneousCost(index) || isProfessionalFee(index) || isCourtFee(index) || isCollectionOfCertifiedCopy(index) || isUtilityBill(index)">
                    <label class="col-sm-4 text-right">Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="legalExpenseDate" placeholder="dd/MMM/yyyy"  name="legalExpenseDate" v-model="legal.legalExpenseDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group"  v-show="isMediationCost(index) || isMiscellaneousCost(index) || isUtilityBill(index) || isProfessionalFee(index) || isCourtFee(index) || isPaperPublication(index) || isCollectionOfCertifiedCopy(index)">
                    <label class="col-sm-4 text-right">
                        Bill Received Amount
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="billReceivedAmount" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Bill Received Amount"
                               v-model="legal.billReceivedAmount"/>
                    </div>
                </div>

                <div class="form-group"  v-show="isMediationCost(index) || isMiscellaneousCost(index) || isUtilityBill(index) || isProfessionalFee(index) || isCourtFee(index) || isPaperPublication(index) || isCollectionOfCertifiedCopy(index)">
                    <label class="col-sm-4 text-right">
                        Bill Payment Amount
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="billPaymentAmount" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Bill Received Amount" @keyup="calculateTotal"
                               v-model="legal.billPaymentAmount"/>
                    </div>
                </div>

                <div class="form-group" v-show="isMediationCost(index) || isMiscellaneousCost(index) || isUtilityBill(index) || isProfessionalFee(index) || isCourtFee(index) || isPaperPublication(index) || isCollectionOfCertifiedCopy(index)">
                    <label class="col-sm-4 text-right">Bill Status</label>
                    <div class="col-sm-7">
                        <multiselect v-model="legal.billStatus"
                                     placeholder="Select Bill Status"
                                     :options="['Paid','Unpaid']" :show-labels="false"
                                     :searchable="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                    </div>
                </div>

                <div class="form-group"  v-show="isProfessionalFee(index) || isPaperPublication(index)">
                    <label class="col-sm-4 text-right">
                        AIT
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="legalAitFee" autocomplete="108" class="form-control" :readonly="isViewPage" @keyup="calculateTotal"
                               v-model="legal.legalAitFee"/>
                    </div>
                </div>

                <div class="form-group"  v-show="isProfessionalFee(index) || isCourtFee(index) || isPaperPublication(index)">
                    <label class="col-sm-4 text-right">
                        VAT @15%
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="legalVat" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="VAT @15% " @keyup="calculateTotal"
                               v-model="legal.legalVat"/>
                    </div>
                </div>


                <!--type of fee-->
                <div class="form-group" v-show="isProfessionalFee(index)">
                    <label class="col-sm-4 text-right">Type of fee (Lawyer Fee/Legal Notice</label>
                    <div class="col-sm-7">
                        <multiselect v-model="legal.typeOfFee"
                                     placeholder="Select type of fee"
                                     :options="['Lawyer Fee','Legal Notice']" :show-labels="false"
                                     :searchable="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                    </div>
                </div>

                <div class="form-group"  v-show="isProfessionalFee(index) && isEqual(legal.typeOfFee, 'Legal Notice')">
                    <label class="col-sm-4 text-right">Number of Legal Notice Served</label>
                    <div class="col-sm-7">
                        <input type="number" name="numberOfLegalNoticeServed" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Number of Legal Notice Served"
                               v-model="legal.numberOfLegalNoticeServed"/>
                    </div>
                </div>

                <div class="form-group" v-show="isProfessionalFee(index) && isEqual(legal.typeOfFee, 'Lawyer Fee')">
                    <label class="col-sm-4 text-right">Paying Now (%)</label>
                    <div class="col-sm-7">
                        <input type="number" name="payingNow" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Paying now (%)"
                               v-model="legal.payingNow"/>
                    </div>
                </div>

                <div class="form-group"  v-show="isProfessionalFee(index)">
                    <label class="col-sm-4 text-right">
                        Total Payable Amount
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="totalPayableAmount" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Total Payable Amount"
                               v-model="legal.totalPayableAmount"/>
                    </div>
                </div>

                <!--court fee-->

                <div class="form-group"  v-show="isCourtFee(index)">
                    <label class="col-sm-4 text-right">
                        Procurement Cost
                    </label>
                    <div class="col-sm-7">
                        <input type="number" name="procurementCost" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Procurement Cost"
                               v-model="legal.procurementCost"/>
                    </div>
                </div>

                <!--Paper publication-->
                <div class="form-group" v-if="isPaperPublication(index)">
                    <label class="col-sm-4 text-right">Type of Publication(Auction/Summon Notice)</label>
                    <div class="col-sm-7">
                        <multiselect v-model="legal.typeOfPublication"
                                     placeholder="Select Paper Publication"
                                     :options="['Auction','Summon Notice']" :show-labels="false"
                                     :searchable="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                    </div>
                </div>

                <div class="form-group"  v-if="isPaperPublication(index) && isEqual(legal.typeOfPublication, 'Auction')">
                    <label class="col-sm-4 text-right">Auction Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="paperPublicationAuctionDate" placeholder="dd/MMM/yyyy"  name="paperPublicationAuctionDate" v-model="legal.paperPublicationAuctionDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group"  v-if="isPaperPublication(index) && isEqual(legal.typeOfPublication, 'Summon Notice')">
                    <label class="col-sm-4 text-right">Publication Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" id="publicationDate" placeholder="dd/MMM/yyyy" name="publicationDate" v-model="legal.publicationDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group"  v-show="isPaperPublication(index)">
                    <label class="col-sm-4 text-right">
                        Section Of ARA
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="sectionOfAra" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Section of ARA"
                               v-model="legal.sectionOfAra"/>
                    </div>
                </div>

                <div class="form-group"  v-show="isPaperPublication(index)">
                    <label class="col-sm-4 text-right">
                        Paper Name
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="paperName" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="paperName"
                               v-model="legal.paperName"/>
                    </div>
                </div>

                <div class="form-group"  v-show="isPaperPublication(index)">
                    <label class="col-sm-4 text-right">
                        Agency/BLA Name
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="agencyBlaName" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Agency/BLA Name"
                               v-model="legal.agencyBlaName"/>
                    </div>
                </div>

                <!--collection of certified copy-->
                <div class="form-group"  v-show="isCollectionOfCertifiedCopy(index)">
                    <label class="col-sm-4 text-right">
                        Name of Document
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="nameOfDocument" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Name of Document"
                               v-model="legal.nameOfDocument"/>
                    </div>
                </div>

                <!--Utility Bill-->

                <div class="form-group"  v-show="isUtilityBill(index)">
                    <label class="col-sm-4 text-right">
                        Service Name
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="serviceName" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Service Name"
                               v-model="legal.serviceName"/>
                    </div>
                </div>

                <!--Mediation Cost-->
                <div class="form-group"  v-show="isMediationCost(index)">
                    <label class="col-sm-4 text-right">
                        Mediation Name
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="mediationName" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Mediation name"
                               v-model="legal.mediationName"/>
                    </div>
                </div>

                <div class="form-group" v-show="isMediationCost(index)">
                    <label class="col-sm-4 text-right">Mediation Submission Date</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" >
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <vuejs-datepicker format="dd/MMM/yyyy" placeholder="dd/MMM/yyyy" id="mediationSubmissionDate"  name="mediationSubmissionDate" v-model="legal.mediationSubmissionDate" ></vuejs-datepicker>
                        </div>
                    </div>
                </div>

                <div class="form-group"  v-show="isMediationCost(index)">
                    <label class="col-sm-4 text-right">
                        Result of Mediation
                    </label>
                    <div class="col-sm-7">
                        <input type="text" name="resultOfMediation" autocomplete="108" class="form-control" :readonly="isViewPage"
                               placeholder="Mediation name"
                               v-model="legal.resultOfMediation"/>
                    </div>
                </div>


                <!--remark expense-->
                <div class="form-group"  v-show="isMediationCost(index) || isMiscellaneousCost(index) || isUtilityBill(index) || isProfessionalFee(index) || isCourtFee(index) || isPaperPublication(index) || isCollectionOfCertifiedCopy(index)">
                    <label class="col-sm-4 text-right">
                        Remark
                    </label>
                    <div class="col-sm-7">
                    <textarea type="text" name="legalRemarks" autocomplete="108" class="form-control" :readonly="isViewPage"
                              placeholder="Remark"
                              v-model="legal.legalRemarks"></textarea>
                    </div>
                </div>
            </div>

           <!-- <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-3 custom-form-lebel-right">
                    Legal expenses
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="108" class="form-control" :readonly="isViewPage"
                           placeholder="Legal expenses"
                           v-model="litigationCaseInfo.legalExpense"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.legalExpense">
                    <label class="col-sm-4 text-right">Expense Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.legalExpenseDate"
                                   name="legalExpenseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>-->

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isMoneyOrCivilOrTitleSuit">
                <label class="col-sm-4">Under Solenama</label>
                <div class="col-sm-7">
                    <select :disabled="isViewPage" class="form-control"
                            v-model="litigationCaseInfo.underSolenama">
                        <option :value='false'>No</option>
                        <option :value='true'>Yes</option>
                    </select>
                </div>
            </div>

            <div class="form-group"
                 v-show="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Lawyer's Name</label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.lawyer"
                                 placeholder="Search lawyer"
                                 label="name" track-by="id"
                                 :options="lawyers"
                                 :multiple="true" :taggable="true" :disabled="isViewPage"></multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.lawyer">
                    {{errors.lawyer}}
                </label>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Lawyer's Cell/Landline No</label>
                <div class="col-sm-7">
                      <textarea maxlength="250" v-model="getSelectedLawyerCellNumbers"
                                class="form-control" readonly></textarea>
                </div>

            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4">Lawyers change</label>
                <div class="col-sm-7">
                    <multiselect placeholder="Lawyer changes"
                                 :options="lawyerChanges"
                                 :show-labels="false"
                                 :searchable="true" :taggable="true">
                    </multiselect>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution || isNIAct || isFraud || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4 required">Opponent Lawyer's Name</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="50" :readonly="isViewPage"
                           placeholder="Opponent Lawyer's Name"
                           v-model="litigationCaseInfo.opponentLawyerName"/>
                </div>
            </div>

            <div class="form-group" v-show="isFraud">
                <label class="col-sm-4 required">Division </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.division"
                                 placeholder="Select Division"
                                 :options="divisions" :show-labels="false"
                                 :searchable="true" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.division">
                    {{errors.division}}
                </label>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4 required">District </label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.district"
                                 placeholder="Select District"
                                 :options="getDistrictsByDivision" :show-labels="false"
                                 :searchable="true" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.district">
                    {{errors.district}}
                </label>
            </div>

            <div class="form-group" v-show="isFraud">
                <label class="col-sm-4 required">Date of Filing</label>
                <div class="col-sm-7">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text" :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfFiling"
                               name="dateOfFiling"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date" placeholder="dd/mmm/yyyy" readonly>
                    </div>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.dateOfFiling">
                    {{errors.dateOfFiling}}
                </label>
            </div>

          <!--  <div class="form-group" v-show="isFraud">
                <label class="col-sm-3 custom-form-lebel-right"
                       :class="litigationCaseInfo.nextDateFixed ? 'required' : ''">
                    Next date
                </label>
                <div class="col-sm-3">
                    <select :disabled="isViewPage"
                            v-model="litigationCaseInfo.nextDateFixed"
                            @change="clearFieldsWithFlag(litigationCaseInfo.nextDateFixed, 'nextDate')"
                            class="form-control">
                        <option :value="false">Not Fixed</option>
                        <option :value="true">Fixed</option>
                    </select>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.nextDateFixed">
                    <label class="col-sm-4 custom-form-lebel-right">Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.nextDate"
                                   name="nextDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly>
                        </div>
                    </div>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.nextDate">
                    {{errors.nextDate}}
                </label>
            </div>

            <div class="form-group" v-if="isFraud">
                <label class="col-sm-4 required">Course of Action</label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.courseOfAction"
                                 placeholder="Search Course of Action"
                                 label="name" track-by="id"
                                 :options="courseOfActions"
                                 :multiple="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.courseOfAction">
                    {{errors.courseOfAction}}
                </label>
            </div>

            <div class="form-group" v-if="isOtherCourseOfAction && (isFraud)">
                <label class="col-sm-4 required"></label>
                <div class="col-sm-7">
                    <textarea maxlength="250" :readonly="isViewPage"
                              placeholder="Other Course Of Action"
                              v-model="litigationCaseInfo.otherCourseOfAction"
                              class="form-control"></textarea>
                </div>

            </div>-->

           <!-- <div class="form-group" v-if="isFraud">
                <label class="col-sm-4 required">BLA Attendance</label>
                <div class="col-sm-7">
                    <select :disabled="isViewPage" v-model="litigationCaseInfo.blaAttendance" class="form-control">
                        <option :value="false">No</option>
                        <option :value="true">Yes</option>
                    </select>
                </div>
            </div>-->

            <div class="form-group"
                 v-show="isFraud">
                <label class="col-sm-3 custom-form-lebel-right">
                    Recovery Before Case
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="109" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount" :change="calculateTotalRecovery()"
                           v-model="litigationCaseInfo.recoveryBeforeCaseAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveryBeforeCaseAmount">
                    <label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveryBeforeCaseDate"
                                   name="recoveryBeforeCaseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group"
                 v-show="isFraud">
                <label class="col-sm-3 custom-form-lebel-right">
                    Recovery After Case
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="110" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount" :change="calculateTotalRecovery()"
                           v-model="litigationCaseInfo.recoveryAfterCaseAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveryAfterCaseAmount">
                    <label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveryAfterCaseDate"
                                   name="recoveryAfterCaseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group"
                 v-show="isFraud">
                <label class="col-sm-3 custom-form-lebel-right">
                    Total Recovery Amount
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="111" class="form-control" :readonly="isViewPage"
                           placeholder="Recovery anount"
                           v-model="litigationCaseInfo.recoveredAmount"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.recoveredAmount">
                    <label class="col-sm-4 text-right">Recovery Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.recoveredAmountDate"
                                   name="recoveredAmountDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>

           <!-- <div class="form-group"
                 v-show="isFraud">
                <label class="col-sm-3 custom-form-lebel-right">
                    Legal expenses
                </label>
                <div class="col-sm-3">
                    <input type="number" autocomplete="112" class="form-control" :readonly="isViewPage"
                           placeholder="Legal expenses"
                           v-model="litigationCaseInfo.legalExpense"/>
                </div>

                <div class="col-sm-6"
                     v-show="litigationCaseInfo.legalExpense">
                    <label class="col-sm-4 text-right">Expense Date:</label>
                    <div class="col-sm-7 date">
                        <div class="input-group date" data-provide="datepicker"
                             data-date-format="dd/M/yyyy" style="z-index: 0">
                            <div class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </div>
                            <input type="text" :disabled="isViewPage"
                                   v-model="litigationCaseInfo.legalExpenseDate"
                                   name="legalExpenseDate"
                                   onchange="setPropertyValueFromInput(this)"
                                   class="form-control pull-right lt-date"
                                   placeholder="dd/mmm/yyyy" readonly/>
                        </div>
                    </div>
                </div>
            </div>-->


            <div class="form-group" v-if="isByBankOrCrCaseOther || isWrit || isFraud">
                <label class="col-sm-4 ">Corresponding Artharin suit Number (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="50" :readonly="isViewPage"
                           placeholder="Artharin suit No"
                           v-model="litigationCaseInfo.artharinSuitNo"/>
                </div>
            </div>

            <div class="form-group" v-if="isByBankOrCrCaseOther || isWrit || isFraud">
                <label class="col-sm-4 required">NI Act Case No. (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="51" :readonly="isViewPage"
                           placeholder="NI Act Case No"
                           v-model="litigationCaseInfo.niActCaseNo"/>
                </div>
            </div>

            <div class="form-group" v-if="isByBankOrCrCaseOther || isFraud">
                <label class="col-sm-4 required">Writ Petition Number (if any)</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="52" :readonly="isViewPage"
                           placeholder="Writ Petition No"
                           v-model="litigationCaseInfo.writPetitionNum"/>
                </div>
            </div>

            <div class="form-group" v-if="isByBankOrCrCaseOther || isWrit || isFraud">
                <label class="col-sm-4 required">
                    Others suit/case (if any)
                </label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="53" :readonly="isViewPage"
                           placeholder="Others"
                           v-model="litigationCaseInfo.others"/>
                </div>
            </div>


            <!------------------------------------------------------------------------------->
            <!-- Litigation Case Info Collateral Security Functionality Starting From Here -->
            <!------------------------------------------------------------------------------->
            <div v-for="(security, index) in litigationCaseInfo.collateralSecurityList">
                <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                    <label class="col-sm-4" v-if="index == 0">Collateral Security</label>
                    <label class="col-sm-4" v-if="index > 0"></label>
                    <div class="col-sm-5">
                        <multiselect v-model="security.collateralSecurityList"
                                     placeholder="Select Collaterals Security"
                                     label="name" track-by="id"
                                     :options="collateralSecurities" @input="getSelectedCollateralSecurityId(security,index)"
                                     :multiple="false" :taggable="true" :disabled="isViewPage">
                        </multiselect>
                    </div>
                    <div class="col-sm-2">
                        <button type="button" @click="addNewCollateralSecurity"
                                class="pull-left btn-add-collateral btn btn-success btn-md center-block" v-if="!isViewPage && litigationCaseInfo.collateralSecurityList.length - 1 == index">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        <button @click="disbaleCollSec(security),removeExistingCollateralSecurity(index)" v-if="!isViewPage && litigationCaseInfo.collateralSecurityList.length > 1" type="button" class="pull-right btn-add-collateral btn btn-danger btn-md center-block">
                            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                    </div>
                    <label class="col-sm-7 col-sm-offset-4 text-danger"
                           v-show="!!security.errors">
                        {{security.errors}}
                    </label>
                </div>

               <!-- <input type="hidden" v-model="security.collateralSecurityId" value="getSelectedCollateralSecurityId(index)">-->

                <div class="form-group" v-show="isFixedAssetCollateralSecurity(index) && (isArtharinSuit || isArtharinExecution)">
                    <label class="col-sm-4">Fixed Asset Details : </label>
                    <div class="col-sm-7">
                    <textarea maxlength="250" v-model="security.collateralSecurityFixedAssetDetails"
                              placeholder="Fixed Asset Details"
                              class="form-control" :readonly="isViewPage"></textarea>
                    </div>
                </div>

                <div class="form-group" v-show="(isFlatHouseBuilding(index) || isLand(index)) && (isArtharinSuit || isArtharinExecution)">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                        <table class="table">
                            <thead>
                            <tr>
                                <th colspan="4">
                                    <label class="required"><u>Land:</u></label>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td rowspan="3">1</td>
                                <td rowspan="3">
                                    <b>Within:</b>
                                </td>
                                <td>
                                    a) City Corporation
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="54" :readonly="isViewPage"
                                           v-model="security.collSecurityCityCorporation">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    b) Pourasava Text
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="55" :readonly="isViewPage"
                                           v-model="security.collSecurityPourasava">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    c) Out of City Corporation & Pourasava
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="56" :readonly="isViewPage"
                                           v-model="security.outOfCityCorporationPourasava">
                                </td>
                            </tr>

                            <tr>
                                <td>2</td>
                                <td>
                                    <b>District:</b>
                                </td>
                                <td></td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="57" :readonly="isViewPage"
                                           v-model="security.collSecurityDistrict">
                                </td>
                            </tr>

                            <tr>
                                <td>3</td>
                                <td>
                                    <b>Mouza:</b>
                                </td>
                                <td></td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="58" :readonly="isViewPage"
                                           v-model="security.collSecurityMouza">
                                </td>
                            </tr>

                            <tr>
                                <td>4</td>
                                <td>
                                    <b>SRO:</b>
                                </td>
                                <td></td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="59" :readonly="isViewPage"
                                           v-model="security.collSecuritySro">
                                </td>
                            </tr>

                            <tr>
                                <td>5</td>
                                <td>
                                    <b>P.S:</b>
                                </td>
                                <td></td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="60" :readonly="isViewPage"
                                           v-model="security.collSecurityPs">
                                </td>
                            </tr>

                            <tr>
                                <td rowspan="5">6</td>
                                <td rowspan="5">
                                    <b>Khatian No.</b>
                                </td>
                                <td>
                                    CS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="61" :readonly="isViewPage"
                                           v-model="security.khatianCs">
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    SA
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="62" :readonly="isViewPage"
                                           v-model="security.khatianSa">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    RS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="63" :readonly="isViewPage"
                                           v-model="security.khatianRs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    BS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="64" :readonly="isViewPage"
                                           v-model="security.khatianBs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    City
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="65" :readonly="isViewPage"
                                           v-model="security.khatianCity">
                                </td>
                            </tr>


                            <tr>
                                <td rowspan="5">7</td>
                                <td rowspan="5">
                                    <b>JL No.</b>
                                </td>
                                <td>
                                    CS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="66" :readonly="isViewPage"
                                           v-model="security.jlCs">
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    SA
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="67" :readonly="isViewPage"
                                           v-model="security.jlSa">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    RS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="68" :readonly="isViewPage"
                                           v-model="security.jlRs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    BS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="69" :readonly="isViewPage"
                                           v-model="security.jlBs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    City
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="70" :readonly="isViewPage"
                                           v-model="security.jlCity">
                                </td>
                            </tr>

                            <tr>
                                <td rowspan="5">8</td>
                                <td rowspan="5">
                                    <b>Plot No.</b>
                                </td>
                                <td>
                                    CS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="71" :readonly="isViewPage"
                                           v-model="security.plotCs">
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    SA
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="72" :readonly="isViewPage"
                                           v-model="security.plotSa">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    RS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="73" :readonly="isViewPage"
                                           v-model="security.plotRs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    BS
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="74" :readonly="isViewPage"
                                           v-model="security.plotBs">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    City
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="75" :readonly="isViewPage"
                                           v-model="security.plotCity">
                                </td>
                            </tr>

                            <tr>
                                <td rowspan="4">9</td>
                                <td rowspan="4">
                                    <b>Bounded By:</b>
                                </td>
                                <td>
                                    North
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="76" :readonly="isViewPage"
                                           v-model="security.boundedByNorth">
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    South
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="77" :readonly="isViewPage"
                                           v-model="security.boundedBySouth">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    East
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="78" :readonly="isViewPage"
                                           v-model="security.boundedByEast">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    West
                                </td>
                                <td>
                                    <input type="text" class="form-control" autocomplete="79" :readonly="isViewPage"
                                           v-model="security.boundedByWest">
                                </td>
                            </tr>


                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-1"></div>

                </div>

                <div class="form-group" v-show="isOtherCollateralSecurity(index) || isNoSecurity(index) || isPledge(index) || isLien(index) && (isArtharinSuit || isArtharinExecution)">
                    <label class="col-sm-4 required"></label>
                    <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              placeholder="Collateral Security Description"
                              v-model="security.otherCollateralSecurity"></textarea>
                    </div>
                </div>
            </div>


            <!------------------------------------------------------------------------------->
            <!-- Litigation Case Info Collateral Security Functionality End Here -->
            <!------------------------------------------------------------------------------->



            <input type="hidden" name="litigationCaseInfo.totalMarketValue" autocomplete="108" class="form-control" :readonly="isViewPage"
                   :value="totalMarketValue"/>

            <input type="hidden" name="litigationCaseInfo.totalForcedSaleValue" autocomplete="108" class="form-control" :readonly="isViewPage"
                   :value="totalForcedSaleValue"/>


            <div style="margin-top: 40px; margin-bottom: 40px;" v-for="(marketValue, index) in litigationCaseInfo.marketValueSalesValueDetailsList">

                <div class="form-group " v-show="isArtharinSuit || isArtharinExecution">
                    <label class="col-sm-4 custom-form-lebel-right">
                        Collateral Value Information
                    </label>
                    <div class="col-sm-7">


                            <div >
                                <button type="button" @click="addNewMarketValue" style="margin-left: 10px"
                                        class="pull-right  btn-add-collateral btn btn-success btn-md center-block" v-if="!isViewPage && litigationCaseInfo.marketValueSalesValueDetailsList.length - 1 == index">
                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                </button>
                                <button  @click="disbaleMarketSec(marketValue),removeMarketValue(index)" v-if="!isViewPage && litigationCaseInfo.marketValueSalesValueDetailsList.length > 1" type="button" class="pull-right btn-add-collateral btn btn-danger btn-md center-block">
                                    <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                                </button>
                            </div>

                    </div>

                </div>



                  <div class="form-group " v-show="isArtharinSuit || isArtharinExecution">
                      <label class="col-sm-4 custom-form-lebel-right text-right">
                          Market Value:
                      </label>
                      <div class="col-sm-7">
                          <input type="number" autocomplete="113" class="form-control" :readonly="isViewPage"
                                 placeholder="Market Value"
                                 v-model="marketValue.marketValue"/>
                      </div>

                  </div>

            <div class="form-group" v-show="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4 custom-form-lebel-right text-right">
                    Forced Sale Value:
                </label>
                <div class="col-sm-7">
                    <input type="number" autocomplete="114" class="form-control" :readonly="isViewPage"
                           placeholder="Forced Sale Value"
                           v-model="marketValue.forcedSalesValue"/>
                </div>


            </div>

            <div class="form-group"  v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4 text-right">Date</label>
                <div class="col-sm-7">
                    <div class="input-group date" >
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <vuejs-datepicker format="dd/MMM/yyyy" placeholder="dd/MMM/yyyy" id="marketValueDate"  name="marketValueDate" v-model="marketValue.marketValueDate" ></vuejs-datepicker>
                    </div>
                </div>
            </div>

            <div class="form-group" v-if="isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4 required text-right">Assessed by:</label>
                <div class="col-sm-7">
                    <multiselect v-model="marketValue.assessedBy"
                                 placeholder="Select Assessed By"
                                 :options="['Surveyor','Bank']" :show-labels="false"
                                 :searchable="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
            </div>

            <div class="form-group"
                       v-if=" isArtharinSuit || isArtharinExecution">
                <label class="col-sm-4 text-right">Description</label>
                <div class="col-sm-7">
                <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                          placeholder=" description"
                          v-model="marketValue.description">
                </textarea>
                </div>
            </div>



            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">
                <label class="col-sm-4">Court Jurisdiction</label>
                <div class="col-sm-7">
            <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                      v-model="litigationCaseInfo.courtJurisdiction"></textarea>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit">
                <label class="col-sm-4">Remarks</label>
                <div class="col-sm-7">
            <textarea maxlength="1000" class="form-control" :readonly="isViewPage"
                      v-model="litigationCaseInfo.remarks"></textarea>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">
                <label class="col-sm-4">Status:</label>
                <div class="col-sm-7">
                    <multiselect v-model="litigationCaseInfo.status"
                                 placeholder="Select Case Status"
                                 label="name" track-by="id"
                                 @input="setStatusChangevalue()"
                                 :options="caseStatusList"
                                 :multiple="false" :taggable="true" :disabled="isViewPage">
                    </multiselect>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.status">
                    {{errors.status}}
                </label>
            </div>

            <div v-if="isJudgmentAwarded">

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">
                <label class="col-sm-4 ">Date of Judgement</label>
                <div class="col-sm-7 date">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text"  :disabled="isViewPage"
                               v-model="litigationCaseInfo.dateOfJudgement"
                               name="dateOfJudgement"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly/>
                    </div>
                </div>
            </div>


            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">

            <label class="col-sm-4 ">Amount Decreed</label>
                <div class="col-sm-7">
                    <input type="number" class="form-control" autocomplete="52" :readonly="isViewPage"
                           placeholder="Amount Decreed"
                           v-model="litigationCaseInfo.amountDecreed"/>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">
                <label class="col-sm-4 ">Stipulated Date of Payment</label>
                <div class="col-sm-7 date">
                    <div class="input-group date" data-provide="datepicker"
                         data-date-format="dd/M/yyyy" style="z-index: 0">
                        <div class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>
                        <input type="text"  :disabled="isViewPage"
                               v-model="litigationCaseInfo.stipulatedDateOfPayment"
                               name="stipulatedDateOfPayment"
                               onchange="setPropertyValueFromInput(this)"
                               class="form-control pull-right lt-date"
                               placeholder="dd/mmm/yyyy" readonly/>
                    </div>
                </div>
            </div>

            <div class="form-group"
                 v-if="isArtharinSuit || isArtharinExecution || isNIAct || isByBankOrCrCaseOther || isMoneyOrCivilOrTitleSuit || isAgainstBankCriminalCase || isAgainstBankOthers || isWrit || isSupremeCourtNotWrit || isFraud">

                <label class="col-sm-4 ">Punishment/Prison Term</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" autocomplete="52" :readonly="isViewPage"
                           placeholder="Punishment/Prison Term"
                           v-model="litigationCaseInfo.punishmentPrisonTerm"/>
                </div>
            </div>
            </div>



            <div class="form-group" v-if="isOtherCaseStatus">
                <label class="col-sm-4 required"></label>
                <div class="col-sm-7">
                    <textarea maxlength="250" class="form-control" :readonly="isViewPage"
                              placeholder="Other Status"
                              v-model="litigationCaseInfo.otherStatus"></textarea>
                </div>
                <label class="col-sm-7 col-sm-offset-4 text-danger"
                       v-show="errors.otherStatus">
                    {{errors.otherStatus}}
                </label>
            </div>

        </div>
        <!-- /.box-body -->
        <div class="box-footer">
            <span class="pull-right">
                <button v-if="!isViewPage" type="button" @click="saveCaseEntry" class="btn btn-primary">
                    SAVE
                </button>
                <button v-if="isViewPage" type="button" @click="changeState(true, false)"
                        class="btn btn-info">
                    UPDATE
                </button>
                <button type="button" @click="goToList()" class="btn btn-danger">
                    CANCEL
                </button>
            </span>
        </div>
        <!-- /.box-footer -->

        <div class="modal fade" id="bla-attendance-history">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="pull-left">BLA Attendance</h5>
                        <button class="pull-right close" data-dismiss="modal">&times;</button>
                    </div>

                    <div class="modal-body">
                        <div class="table-responsive">
                            <table class="table table-condensed table-bordered">
                                <thead>
                                <th>Date</th>
                                <th>Course Of Action</th>
                                <th>BLA Attendance(Yes/No)</th>
                                </thead>
                                <tbody id="bla-attendance-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>




    <script th:inline="javascript" type="application/javascript">
        /*<![CDATA[*/
        var litigationCaseInfo = /*[[${litigationCaseInfo}]]*/ {};
        var caseFiledTypeList = /*[[${caseFiledTypeList}]]*/ [];
        var legalExpenseList = /*[[${legalExpense}]]*/ [];
        var edit = /*[[${edit}]]*/ '';
        var view = /*[[${view}]]*/ '';
        /*]]>*/
        console.log(litigationCaseInfo)
        setWindowFocusLossNotification('Are you sure to leave the page. You have unsaved data.');

    </script>

    <script th:inline="javascript" type="application/javascript">
        var caseEntryApp = new Vue({
            el: '#caseEntryApp',
            components: {
                Multiselect: VueMultiselect.default,
                vuejsDatepicker
            },
            data: {
                selectedCollateralSecurity:{},
                accountNumber: "",
                litigationCaseInfo: {},
                errors: {},
                caseFiledTypes: [],
                caseFiledSubTypes: [],
                caseTypes: [],
                courts: [],
                districts: [],
                divisions: [],
                zone: {},
                zones: [],
                branch: {},
                branches: [],
                courseOfActions: [],
                caseTypeSubTypes: [],
                lawyers: [],
                lawyerChanges: [],
                PlaintiffChanges: [],
                PlaintiffChangesDate:[],
                collateralSecurities: [],
                caseStatusList: [],
                officers: [""],
                isEditPage: false,
                isViewPage: false,
                isLoading: false,
                errorMessage: false,
                legalExpenses : [],
                isFirstTime: true,
                blaLength : 0,
                maxBla: 0,
                total : 0,
                totalMarketValueAmount : 0,
                totalForcedSaleValueAmount : 0,
                statusSelect:""
            },
            mounted: function () {
                //Set logic for update
            },
            created: function () {
                this.setInitialValues();
                this.setCaseFiledTypes();
                this.getCaseFiledSubTypesFromServer();
                this.getDistrictsFromServer();
                this.getDivisionsFromServer();
                this.getZonesFromServer();
                this.getLawyersFromServer();
                this.getColateralSecutiryFromServer();
                this.getBranchesFromServer();
                this.setLegalExpense();
                this.blaLength = this.litigationCaseInfo.blaAttendanceHistoryList.length;
                this.maxBla = this.litigationCaseInfo.blaAttendanceHistoryList.length+1;
                this.statusSelect =  litigationCaseInfo["status"].name;
            },
            computed: {
                //function for written off
                isWrittenOffYes: function(){
                    return this.litigationCaseInfo.writtenOff;
                },
                /*getCollateralSecurityIds: function(){


                /**************shahin *******************/
                totalLegalExpenseAmount: function(){
                    this.total = 0;

                    for(i =0; i<this.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++){
                        this.total += (!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].billPaymentAmount)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].billPaymentAmount) : 0)
                        +(!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalVat)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalVat) : 0)
                        +(!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalAitFee)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalAitFee) : 0);

                    }

                    return this.total;
                },

                totalMarketValue: function(){
                    this.totalMarketValueAmount = 0;
                    for (i=0; i<this.litigationCaseInfo.marketValueSalesValueDetailsList.length; i++){
                        this.totalMarketValueAmount += (!isNaN(Number(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValue)) ? Number(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValue) : 0);
                    }

                    return this.totalMarketValueAmount;
                },

                totalForcedSaleValue: function(){
                    this.totalForcedSaleValueAmount = 0;

                    for (i=0; i<this.litigationCaseInfo.marketValueSalesValueDetailsList.length; i++){
                        this.totalForcedSaleValueAmount += (!isNaN(Number(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].forcedSalesValue)) ? Number(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].forcedSalesValue) : 0);
                    }
                    return this.totalForcedSaleValueAmount;
                },



                getLitigationCaseId: function () {
                    return this.litigationCaseInfo.id;
                },
                // getCustomerAccountNumber: function () {
                //     return this.litigationCaseInfo.customerAccNum;
                // },
                // getAccountNumberIfAny: function () {
                //     return this.litigationCaseInfo.accountNoIf;
                // },
                getSelectedCaseFiledType: function () {
                    return this.litigationCaseInfo.caseFiled;
                },
                getSelectedCaseFiledSubType: function () {
                    return this.litigationCaseInfo.caseFiledSubType;
                },
                getSelectedCaseType: function () {
                    return this.litigationCaseInfo.caseType;
                },
                getSelectedLawyerCellNumbers: function () {
                    if (!this.litigationCaseInfo.lawyer) return '';
                    let cellNumbers =
                        this.litigationCaseInfo.lawyer.map(lawyer => {
                            return lawyer.mobileNo ? lawyer.mobileNo : lawyer.phoneNo;
                }).join(",");
                    this.litigationCaseInfo.lawyerCellNum = cellNumbers;
                    return cellNumbers;
                },
                isJudgmentAwarded: function(){
                    return this.litigationCaseInfo.status &&
                        this.isEqual(this.litigationCaseInfo.status.name, 'Judgement Awarded');
                },
                isByBank: function () {
                    return this.litigationCaseInfo.caseFiled &&
                        this.isEqual(this.litigationCaseInfo.caseFiled.name, 'By Bank');
                },
                isAgainstBank: function () {
                    return this.litigationCaseInfo.caseFiled &&
                        this.isEqual(this.litigationCaseInfo.caseFiled.name, 'Against Bank');
                },
                isSupremeCourt: function () {
                    return this.litigationCaseInfo.caseFiled &&
                        this.isEqual(this.litigationCaseInfo.caseFiled.name, 'The Supreme Court of Bangladesh');
                },
                isArtharinSuit: function () {
                    return this.isByBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Artharin Suit');
                },
                isArtharinExecution: function () {
                    return this.isByBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Artharin Execution');
                },
                isNIAct: function () {
                    return this.isByBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'NI ACT');
                },
                isWrit: function () {
                    return this.isSupremeCourt && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Writ');
                },
                isSupremeCourtNotWrit: function () {
                    return this.isSupremeCourt && this.litigationCaseInfo.caseType &&
                        !this.isEqual(this.litigationCaseInfo.caseType.name, 'Writ');
                },
                isByBankCriminalCase: function () {
                   /* alert(this.isByBank && this.litigationCaseInfo.caseType.name  &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Criminal Case'))*/
                    return this.isByBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Criminal Case');
                },
                isMoneySuit: function () {
                    return this.isAgainstBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Money Suit');
                },
                isCivilSuit: function () {
                    return this.isAgainstBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Civil Suit');
                },
                isTitleSuit: function () {
                    return this.isAgainstBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Title Suit');
                },
                isMoneyOrCivilOrTitleSuit: function () {
                    return this.isMoneySuit || this.isCivilSuit || this.isTitleSuit;
                },
                isAgainstBankCriminalCase: function () {
                    return this.isAgainstBank && this.litigationCaseInfo.caseType && (
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Criminal (Cr.) Case') ||
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Criminal Case')
                    );
                },
                isAgainstBankOthers: function () {
                    return this.isAgainstBank && this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Others');
                },
                isFraud: function () {
                   /* alert(this.isByBankCriminalCase && this.litigationCaseInfo.caseTypeSubType &&
                        this.isEqual(this.litigationCaseInfo.caseTypeSubType, 'Fraud Forgery'))*/
                    return this.isByBankCriminalCase && this.litigationCaseInfo.caseTypeSubType &&
                        this.isEqual(this.litigationCaseInfo.caseTypeSubType, 'Fraud Forgery');
                },
                isCaseTypeSubTypeOthers: function () {
                    return this.litigationCaseInfo.caseTypeSubType &&
                        this.isEqual(this.litigationCaseInfo.caseTypeSubType, 'Others');
                },
                isOtherCaseType: function () {
                    return this.litigationCaseInfo.caseType &&
                        this.isEqual(this.litigationCaseInfo.caseType.name, 'Others');
                },
                isByBankOrCrCaseOther: function () {
                    let byBankOthers = this.isByBank && this.isOtherCaseType;
                    let criminalCaseOthers = this.isByBankCriminalCase && this.isCaseTypeSubTypeOthers;
                    return byBankOthers || criminalCaseOthers;
                },
                isNatureOfWritOther: function () {
                    return this.litigationCaseInfo.natureOfWrit &&
                        this.isEqual(this.litigationCaseInfo.natureOfWrit, 'Others');
                },
                getCaseTypeSubTypes: function () {
                    if (this.isByBankCriminalCase)
                        return ['Fraud Forgery', 'Others'];
                    else if (this.isWrit)
                        return ['Auction', 'CIB', 'N.I Act', 'Artharin', 'Others'];
                    else return [];
                },
                isOtherCourt: function () {
                    return this.litigationCaseInfo.court &&
                        this.isEqual(this.litigationCaseInfo.court.name, 'Others');
                },
                isOtherCaseStatus: function () {
                    return this.litigationCaseInfo.status &&
                        this.isEqual(this.litigationCaseInfo.status.name, 'Others');
                },
                hasPropertyDetails: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.hasProperty;
                    }
                },
                isOtherCollateralSecurity: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Others');
                    }
                },
                isNoSecurity: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'No Security');
                    }
                },
                isPledge: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Pledge');
                    }
                },
                isLien: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Lien');
                    }
                },
                isFlatHouseBuilding: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Flat/ House/ Building');
                    }
                },
                isLand: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Land');
                    }
                },
                isFixedAssetCollateralSecurity: function () {
                    return function(index){
                        return this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList && this.isEqual(this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name, 'Fixed Assets/ Machineries');;
                    }
                },
                isOtherCourseOfAction: function () {
                    return this.litigationCaseInfo.courseOfAction && this.isEqual(this.litigationCaseInfo.courseOfAction.name, 'Others');
                },
                getCourseOfActionExIdentifier: function () {
                    if (this.litigationCaseInfo.courseOfAction && this.isArtharinExecution) {
                        if (this.isEqual(this.litigationCaseInfo.courseOfAction.name, 'Certificate u/s 33(5) of ARA issued in favour of Bank')) return '5';
                        else if (this.isEqual(this.litigationCaseInfo.courseOfAction.name, 'Certificate u/s 33(7) of ARA issued in favour of Bank')) return '7';
                        else return '';
                    } else {
                        return '';
                    }
                },

                /*--------------legal expense shahin------------------*/

                isProfessionalFee: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Professional Fee');
                    }
                },
                isCourtFee: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Court Fee');
                    }
                },
                isPaperPublication: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Paper Publication');
                    }
                },

                isCollectionOfCertifiedCopy: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Collection of Certified Copy');
                    }
                },
                isUtilityBill: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Utility Bill');
                    }
                },
                isMiscellaneousCost: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Miscellaneous Cost');
                    }
                },
                isMediationCost: function () {
                    return function(index){
                        return this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList && this.isEqual(this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName, 'Mediation Cost');
                    }
                },


                getDistrictsByDivision: function () {
                    let filteredDistricts = [];
                    if (this.litigationCaseInfo.division) {
                        filteredDistricts = this.filterOptions(this.districts, 'divisionName', this.litigationCaseInfo.division);
                    }
                    else {
                        filteredDistricts = this.districts;
                    }
                    return filteredDistricts.map(item => {
                        return item.name;
                });
                },
                getBranchesByZone: function () {
                    if (this.zone.name) {
                        this.litigationCaseInfo.zone = this.zone.name;
                        return this.zone.branches;
                    } else {
                        return this.branches;
                    }
                },
            },
            watch: {
                getLitigationCaseId: function () {
                    this.getLawyerChangesFromServer();
                    this.getPlaintiffChangesFromServer();
                    this.getPlaintiffChangesDateFromServer();
                },
                zones: function () {
                    const zoneName = this.litigationCaseInfo ? this.litigationCaseInfo.zone : '';
                    if (zoneName) {
                        const zones = this.zones.filter(zone => zoneName === zone.name);
                        this.zone = zones.length ? zones[0] : {};
                    }
                },
                // getCustomerAccountNumber: function () {
                //     this.getAccountInfoFromApi(this.litigationCaseInfo.customerAccNum);
                // },
                // getAccountNumberIfAny: function () {
                //     this.getAccountInfoFromApi(this.litigationCaseInfo.accountNoIf);
                // },
                getSelectedCaseFiledType: function () {
                    let validRequest = this.litigationCaseInfo.caseFiled
                        && this.litigationCaseInfo.caseFiled.id;
                    if (validRequest) {
                        if (!this.isEditPage && !this.isViewPage){
                            clearSubsequentFields('caseFiled', this.litigationCaseInfo);
                            this.litigationCaseInfo.collateralSecurityList.push({/*errors: "Please insert non empty collateral security"*/});
                            this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/*errors: "Please insert non empty legal expense"*/}];
                            this.litigationCaseInfo.blaAttendanceHistoryList = [{}];
                            this.litigationCaseInfo.recoveryBeforeCaseDetailsList = [{}];
                            this.litigationCaseInfo.recoveryAfterCaseDetailsList = [{}];
                            this.litigationCaseInfo.marketValueSalesValueDetailsList = [{}];

                        }
                        else  {
                            /*if (!!this.litigationCaseInfo.collateralSecurityList)
                                this.litigationCaseInfo.collateralSecurityList.push({/!*errors: "Please insert non empty collateral security"*!/});*/
                            if (this.litigationCaseInfo.legalExpenseDetailsEntityList.length == 0) {
                                this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/*errors: "Please insert non empty legal expense"*/}];
                            }
                            if(this.litigationCaseInfo.blaAttendanceHistoryList.length == 0){
                                this.litigationCaseInfo.blaAttendanceHistoryList = [{}];
                            }

                            if( this.litigationCaseInfo.recoveryBeforeCaseDetailsList.length == 0){
                                this.litigationCaseInfo.recoveryBeforeCaseDetailsList = [{}];
                            }
                            if(this.litigationCaseInfo.recoveryAfterCaseDetailsList.length == 0){
                                this.litigationCaseInfo.recoveryAfterCaseDetailsList = [{}];
                            }
                            if(this.litigationCaseInfo.marketValueSalesValueDetailsList.length == 0){
                                this.litigationCaseInfo.marketValueSalesValueDetailsList = [{}];
                            }
                            if(this.litigationCaseInfo.collateralSecurityList.length == 0){
                                this.litigationCaseInfo.collateralSecurityList = [{}];
                            }
                        }
                        if (this.isSupremeCourt) {
                            this.caseTypes = [];
                            return;
                        }
                        this.getCaseTypesFromServer(this.litigationCaseInfo.caseFiled.id, '');
                    }
                },
                getSelectedCaseFiledSubType: function () {
                    let validRequest = this.isSupremeCourt && this.litigationCaseInfo.caseFiledSubType
                        && this.litigationCaseInfo.caseFiledSubType.id;
                    if (validRequest) {
                        if (!this.isEditPage && !this.isViewPage) {
                            clearSubsequentFields('caseFiledSubType', this.litigationCaseInfo);
                            this.litigationCaseInfo.collateralSecurityList.push({/*errors: "Please insert non empty collateral security"*/});
                            this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/*errors: "Please insert non empty legal expense"*/}];
                            this.litigationCaseInfo.blaAttendanceHistoryList = [{}];
                            this.litigationCaseInfo.recoveryBeforeCaseDetailsList = [{}];
                            this.litigationCaseInfo.recoveryAfterCaseDetailsList = [{}];
                            this.litigationCaseInfo.marketValueSalesValueDetailsList = [{}];
                        }/*
                        else  {
                            if (!!this.litigationCaseInfo.collateralSecurityList)
                                this.litigationCaseInfo.collateralSecurityList.push({/!*errors: "Please insert non empty collateral security"*!/});
                            if (!!this.litigationCaseInfo.legalExpenseDetailsEntityList)
                                this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/!*errors: "Please insert non empty legal expense"*!/}];
                        }*/
                        this.getCaseTypesFromServer(this.litigationCaseInfo.caseFiled.id, this.litigationCaseInfo.caseFiledSubType.id);
                    }
                },
                getSelectedCaseType: function () {
                    let validRequest = this.litigationCaseInfo.caseType
                        && this.litigationCaseInfo.caseType.id;
                    if (validRequest) {
                        if (!this.isEditPage && !this.isViewPage) {
                            clearSubsequentFields('caseType', this.litigationCaseInfo);
                            this.litigationCaseInfo.collateralSecurityList.push({/*errors: "Please insert non empty Collateral Security"*/});
                            this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/*errors: "Please insert non empty legal expense"*/}];
                            this.litigationCaseInfo.blaAttendanceHistoryList = [{}];
                            this.litigationCaseInfo.recoveryBeforeCaseDetailsList = [{}];
                            this.litigationCaseInfo.recoveryAfterCaseDetailsList = [{}];
                            this.litigationCaseInfo.marketValueSalesValueDetailsList = [{}];
                        }/*
                        else  {
                            if (!!this.litigationCaseInfo.collateralSecurityList)
                                this.litigationCaseInfo.collateralSecurityList.push({/!*errors: "Please insert non empty collateral security"*!/});
                            if (!!this.litigationCaseInfo.legalExpenseDetailsEntityList)
                                this.litigationCaseInfo.legalExpenseDetailsEntityList = [{/!*errors: "Please insert non empty legal expense"*!/}];
                        }*/
                        this.getCourseOfActionsFromServer(this.litigationCaseInfo.caseType.id);
                        this.getCourtsFromServer();
                        this.getCaseStatusListFromServer();
                        this.getColateralSecutiryFromServer();
                    }
                },
                litigationCaseInfo: function(){
                    if (this.isFirstTime) {
                        this.isFirstTime = false;
                        for (i = 0; i < this.litigationCaseInfo.collateralSecurityList.length; i++) {
                            this.$set(this.litigationCaseInfo.collateralSecurityList[i], 'collateralSecurityList', {'id':this.litigationCaseInfo.collateralSecurityList[i].collateralSecurityId , 'name':this.litigationCaseInfo.collateralSecurityList[i].collateralSecurityName});
                            //this.litigationCaseInfo.collateralSecurityList[i] = this.litigationCaseInfo.collateralSecurityList[i];
                        }

                        /*legal expense by shahin*/

                        for (i = 0; i < this.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++) {
                            this.$set(this.litigationCaseInfo.legalExpenseDetailsEntityList[i], 'legalExpenseDetailsEntityList', {'id':this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseId , 'legalExpenseName':this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseName});
                            //this.litigationCaseInfo.collateralSecurityList[i] = this.litigationCaseInfo.collateralSecurityList[i];
                        }

                        for (i = 0; i < this.litigationCaseInfo.blaAttendanceHistoryList.length; i++) {
                            this.$set(this.litigationCaseInfo.blaAttendanceHistoryList[i], 'blaAttendanceHistoryList', {'id':this.litigationCaseInfo.blaAttendanceHistoryList[i].courseOfActionId , 'name':this.litigationCaseInfo.blaAttendanceHistoryList[i].courseOfActionName});
                            //this.litigationCaseInfo.collateralSecurityList[i] = this.litigationCaseInfo.collateralSecurityList[i];
                        }
                    }
                }
            },
            filters: {},
            methods: {

                setStatusChangevalue(){
                   var statusChange =  caseEntryApp.litigationCaseInfo["status"].name;
                    var date = null;

                   if(this.statusSelect=="" || this.statusSelect ==statusChange){
                       caseEntryApp.litigationCaseInfo["statusChange"] = date;
                   }
                   else{
                       var currentDate = new Date();
                       var formatted_date = new Date().toJSON().slice(0,10).replace(/-/g,'/');
                       date =  endureTwoDigitDay(currentDate.getDate()) + "/" + shortMonthNames[currentDate.getMonth()] + "/" + currentDate.getFullYear();

                       caseEntryApp.litigationCaseInfo["statusChange"] = date;
                   }
                },

                disbaleCollSec(security){
                    security.enabled = 0;
                    security.deleted = 1;
                },

                /*------------shahin legal expense----------*/
                disbaleLegalSec(legal){
                    legal.enabled = 0;
                    legal.deleted = 1;

                },
                disbaleBlaAttendance(blaAttendance){
                    blaAttendance.enabled = 0;
                    blaAttendance.deleted = 1;

                },
                disbaleRecoveryBeforeCaseSec(recoverBefore){
                    recoverBefore.enabled = 0;
                    recoverBefore.deleted = 1;

                },
                disbaleRecoveryAfterCaseSec(recoveryBefore){
                    recoveryBefore.enabled = 0;
                    recoveryBefore.deleted = 1;

                },
                disbaleMarketSec(marketValue){
                    marketValue.enabled = 0;
                    marketValue.deleted = 1;

                },
                calculateTotal(){
                    this.total = 0;

                    for(i =0; i<this.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++){
                        this.total += (!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].billPaymentAmount)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].billPaymentAmount) : 0)
                            +(!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalVat)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalVat) : 0)
                            +(!isNaN(Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalAitFee)) ? Number(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalAitFee) : 0);

                    }
                },
                getSelectedLegalExpenseId(legal,index){
                    /*if (!!this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList)
                        this.litigationCaseInfo.legalExpenseDetailsEntityList[index].errors = "";
                    else
                        this.litigationCaseInfo.legalExpenseDetailsEntityList[index].errors = "Please insert non empty legal expense";*/

                    legal.legalExpenseId = !!this.litigationCaseInfo.legalExpenseDetailsEntityList ? this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.id : '';
                    legal.legalExpenseName = !!this.litigationCaseInfo.legalExpenseDetailsEntityList ? this.litigationCaseInfo.legalExpenseDetailsEntityList[index].legalExpenseDetailsEntityList.legalExpenseName : '';

                    legal.billPaymentAmount = 0;
                    legal.legalVat = 0;
                    legal.legalAitFee = 0;

                    this.litigationCaseInfo.legalExpenseDetailsEntityList.splice(index,1,legal);

                    this.calculateTotal();
                },



                setLegalExpense : function(){
                    this.legalExpenses = Array.isArray(legalExpenseList) ? legalExpenseList : [];
                },


                getSelectedCollateralSecurityId(security,index){
                    /*if (!!this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList)
                        this.litigationCaseInfo.collateralSecurityList[index].errors = "";
                    else
                        this.litigationCaseInfo.collateralSecurityList[index].errors = "Please insert non empty Collateral Security";*/

                    security.collateralSecurityId = !!this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList ? this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.id : '';
                    security.collateralSecurityName = !!!!this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList ? this.litigationCaseInfo.collateralSecurityList[index].collateralSecurityList.name : '';
                },
                /*collateralSecurityFixedAssetDetails(){
                    this.getCsFixedAssetDetails = this.litigationCaseInfo.collateralSecurityList.map(item =>{
                            return item.collateralSecurityList ? item.collateralSecurityList.collateralSecurityFixedAssetDetails : '';
                    });
                },*/

                getSelectedCourseOfActionId(blaAttendance,index){

                    blaAttendance.courseOfActionId = !!this.litigationCaseInfo.blaAttendanceHistoryList ? this.litigationCaseInfo.blaAttendanceHistoryList[index].blaAttendanceHistoryList.id : '';
                    blaAttendance.courseOfActionName = !!this.litigationCaseInfo.blaAttendanceHistoryList ? this.litigationCaseInfo.blaAttendanceHistoryList[index].blaAttendanceHistoryList.name : '';
                },

                setCollateralId: function(){

                },
                setInitialValues: function () {
                    this.isEditPage = typeof edit === 'boolean' ? edit : edit === 'true';
                    this.isViewPage = typeof view === 'boolean' ? view : view === 'true';
                    this.litigationCaseInfo = typeof litigationCaseInfo === 'object' ? $.extend(true, {}, litigationCaseInfo) : {};
                    if(!this.isEditPage && !this.isViewPage) {
                        this.litigationCaseInfo.collateralSecurityList = [];
                        this.litigationCaseInfo.legalExpenseDetailsEntityList = [{}];
                        this.litigationCaseInfo.blaAttendanceHistoryList = [{}];
                        this.litigationCaseInfo.recoveryBeforeCaseDetailsList = [{}];
                        this.litigationCaseInfo.recoveryAfterCaseDetailsList = [{}];
                        this.litigationCaseInfo.marketValueSalesValueDetailsList = [{}];
                    }
                    if(this.isEditPage){
                        for(var j = 0; j< this.litigationCaseInfo.blaAttendanceHistoryList.length;j++)
                            this.getCourseOfActionsByContested(this.litigationCaseInfo.caseType.id, this.litigationCaseInfo.blaAttendanceHistoryList[j].courseOfActionContestedType)
                    }
                },
                reset: function () {
                    this.litigationCaseInfo = typeof litigationCaseInfo === 'object' ? $.extend(true, {}, litigationCaseInfo) : {};
                },
                setCaseFiledTypes: function () {
                    this.caseFiledTypes = Array.isArray(caseFiledTypeList) ? caseFiledTypeList : [];
                },
                setBranchProperties: function () {
                    this.litigationCaseInfo.branchName = this.branch.branchName;
                    this.litigationCaseInfo.branchCode = this.branch.branchCode;
                },
                changeState: function (editState, viewState) {
                    this.isEditPage = !!editState;
                    this.isViewPage = !!viewState;
                },
                setExistingBranchAsSelected: function () {
                    let branchName = this.litigationCaseInfo.branchName;
                    if (branchName) {
                        let oldBranch = this.branches.filter(branch => branch.branchName === branchName);
                        this.branch = oldBranch.length ? oldBranch[0] : null;
                    }
                },
                validateSubmit: function () {
                    let flag = true;
                    let suit = this.litigationCaseInfo;
                    let errors = {};
                    if (!suit.ldNo) {
                        errors.ldNo = "Please enter LD number";
                        flag = false;
                    }
                    if (!suit.caseFiled) {
                        errors.caseFiled = "Please select case filed type";
                        flag = false;
                    }
                    if (this.isSupremeCourt && !suit.caseFiledSubType) {
                        errors.caseFiledSubType = "Please select case filed sub type";
                        flag = false;
                    }
                    if (!suit.caseType) {
                        errors.caseType = "Please select nature of suit";
                        flag = false;
                    }
                    if (!suit.status) {
                        errors.status = "Please select a status";
                        flag = false;
                    }
                    if (suit.status && suit.status.name === 'Others' && !suit.otherStatus) {
                        errors.otherStatus = "Please provide other status name";
                        flag = false;
                    }
                    // if (!suit.courseOfAction) {
                    //     errors.push('courseOfAction');
                    //     flag = false;
                    // }
                    // if (!suit.customerAccNum && !suit.accountNoIf) {
                    //     errors.push('customerAccNum');
                    //     flag = false;
                    // }
                    if (suit.customerAccNum && !suit.customerAccNum.match(/^(([a-zA-Z0-9]{16})(,[a-zA-Z0-9]{16})*)?$/i)) {
                        errors.customerAccNum = "Please enter valid account number(s). Separate multiple accounts with comma(,)";
                        flag = false;
                    }
                    // if (suit.nameOfAcc && !suit.nameOfAcc.match(/^[a-zA-Z0-9, \-/.]*$/i)) {
                    //     errors.nameOfAcc = "Please enter valid account name";
                    //     flag = false;
                    // }
                    if(this.isEditPage){
                        /*for(i = 0; i<suit.collateralSecurityList.length; i++){
                            if(!!!suit.collateralSecurityList[i].collateralSecurityName){
                                suit.collateralSecurityList[i].errors = "Please insert non empty Collateral Security";
                                flag = false;
                            }
                        }

                        for(i = 0; i<suit.legalExpenseDetailsEntityList.length; i++){
                            if(!!!suit.legalExpenseDetailsEntityList[i].legalExpenseName){
                                suit.legalExpenseDetailsEntityList[i].errors = "Please insert non empty legal expense";
                                flag = false;
                            }
                        }*/
                    }

                    if(!this.isEditPage){
                        /*for(i = 0; i<suit.collateralSecurityList.length; i++){
                            if(!!!suit.collateralSecurityList[i].collateralSecurityName){
                                suit.collateralSecurityList[i].errors = "Please insert non empty Collateral Security";
                                flag = false;
                            }
                        }

                        for(i = 0; i<suit.legalExpenseDetailsEntityList.length; i++){
                            if(!!!suit.legalExpenseDetailsEntityList[i].legalExpenseName){
                                suit.legalExpenseDetailsEntityList[i].errors = "Please insert non empty legal expense";
                                flag = false;
                            }
                        }*/
                    }

                    if (!flag) {
                        this.errors = errors;
                        swal("Please insert all the fields correctly");
                    }

                    return flag;
                },
                isEqual(source, target) {
                    return isEqualIgnoreCase(source, target);
                },
                is360Page() {
                    return typeof accountNo !== 'undefined' && typeof customerId !== 'undefined';
                },
                clearFieldsWithFlag: function (flag, ...fields) {
                    clearObjectPropertiesByFlag(flag, this.litigationCaseInfo, fields);
                },

                calculateTotalRecovery: function () {

                    let beforeCaseAmount = 0;
                    let afterCaseAmount =0;

                    for(i =0; i<this.litigationCaseInfo.recoveryBeforeCaseDetailsList.length; i++){
                        beforeCaseAmount += !isNaN(Number(this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseAmount)) ? Number(this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseAmount) : 0;
                    }

                    for(i =0; i<this.litigationCaseInfo.recoveryAfterCaseDetailsList.length; i++){
                        afterCaseAmount += !isNaN(Number(this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseAmount)) ? Number(this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseAmount) : 0;
                    }

                    this.litigationCaseInfo.recoveredAmount = Number(beforeCaseAmount) + Number(afterCaseAmount);
                },



                getAccountInfoFromApi: function (accountNo) {
                    if (!accountNo) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/account-info?accountNo=' + accountNo;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Failed to get account information from API");
                            return;
                        }
                        // let caseInfo = vm.litigationCaseInfo;
                        let accountInfo = res.body;

                        this.litigationCaseInfo.branchName = isValue(accountInfo.branchName) ? accountInfo.branchName : this.litigationCaseInfo.branchName;
                        this.litigationCaseInfo.branchCode = isValue(accountInfo.branchCode) ? accountInfo.branchCode : this.litigationCaseInfo.branchCode;
                        this.litigationCaseInfo.nameOfAcc = isValue(accountInfo.nameOfAcc) ? accountInfo.nameOfAcc : this.litigationCaseInfo.nameOfAcc;
                        this.litigationCaseInfo.borrowerName = isValue(accountInfo.borrowerName) ? accountInfo.borrowerName : this.litigationCaseInfo.borrowerName;
                        this.litigationCaseInfo.customerCifNo = isValue(accountInfo.customerCifNo) ? accountInfo.customerCifNo : this.litigationCaseInfo.customerCifNo;
                        this.litigationCaseInfo.businessSegment = isValue(accountInfo.businessSegment) ? accountInfo.businessSegment : this.litigationCaseInfo.businessSegment;
                        this.litigationCaseInfo.clientId = isValue(accountInfo.clientId) ? accountInfo.clientId : this.litigationCaseInfo.clientId;
                        this.litigationCaseInfo.outstanding = isValue(accountInfo.outstanding) ? accountInfo.outstanding : this.litigationCaseInfo.outstanding;

                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCaseFiledSubTypesFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/case-filed-sub-type';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading case filed sub types");
                            return;
                        }
                        vm.caseFiledSubTypes = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCourtsFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/courts?caseTypeId=' + vm.litigationCaseInfo.caseType.id;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading courts");
                            return;
                        }
                        vm.courts = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getDistrictsFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/districts';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading district");
                            return;
                        }
                        vm.districts = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getDivisionsFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/divisions';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading division");
                            return;
                        }
                        vm.divisions = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getZonesFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/zones';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading division");
                            return;
                        }
                        vm.zones = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getBranchesFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/branches';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Error loading branches");
                            return;
                        }
                        vm.branches = Array.isArray(res.body) ? res.body : [];
                        this.setExistingBranchAsSelected();
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCaseStatusListFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/case-status?caseTypeId=' + vm.litigationCaseInfo.caseType.id;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No case status found");
                            return;
                        }
                        vm.caseStatusList = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getLawyersFromServer: function () {
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/lawyers';
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No lawyer found");
                            return;
                        }
                        vm.lawyers = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getLawyerChangesFromServer: function () {
                    let litigationCaseId = this.litigationCaseInfo.id;
                    if (!litigationCaseId) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/get-lawyer-change-history?id=' + litigationCaseId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Something went wrong finding lawyer change history");
                            return;
                        }
                        vm.lawyerChanges = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getPlaintiffChangesFromServer: function () {
                    let litigationCaseId = this.litigationCaseInfo.id;
                    if (!litigationCaseId) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/get-plaintiff-change-history?id=' + litigationCaseId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Something went wrong finding plaintiff change history");
                            return;
                        }
                        vm.PlaintiffChanges = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getPlaintiffChangesDateFromServer: function () {
                    let litigationCaseId = this.litigationCaseInfo.id;
                    if (!litigationCaseId) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/get-plaintiff-change-history-date?id=' + litigationCaseId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("Something went wrong finding plaintiff change history");
                            return;
                        }
                        vm.PlaintiffChangesDate = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCaseTypesFromServer: function (caseFiledId, csFiledSubTypeId) {
                    // Todo: this method gets called after selecting case type for first time which is unexpected. Fix this whenever possible.
                    //
                    if (!caseFiledId) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/case-suit/enabled?csFiledType=' + caseFiledId + '&csFiledSubType=' + csFiledSubTypeId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No type of case found under " + vm.litigationCaseInfo.caseFiled.name);
                            return;
                        }
                        vm.caseTypes = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCourseOfActionsFromServer: function (caseTypeId) {
                    let invalidRequest = !caseTypeId || this.isArtharinSuit;
                    if (invalidRequest) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/course-of-action?caseTypeId=' + caseTypeId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No course of action found for " + vm.litigationCaseInfo.caseType.name);
                            return;
                        }
                        vm.courseOfActions = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getCourseOfActionsByContested: function (caseTypeId, contestedType) {
                    let invalidRequest = !caseTypeId || !contestedType || !this.isArtharinSuit;
                    if (invalidRequest) return;
                    let vm = this;
                    vm.isLoading = true;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/course-of-action-by-contested?caseTypeId=' + caseTypeId + '&contestedType=' + contestedType;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No course of action found for " + vm.litigationCaseInfo.caseType.name);
                            return;
                        }
                        vm.courseOfActions = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                getColateralSecutiryFromServer: function () {
                    let vm = this;
                    if (!vm.litigationCaseInfo.caseType) return;
                    vm.isLoading = true;
                    let caseTypeId = vm.litigationCaseInfo.caseType.id;
                    let host = window.location.host;
                    let url = 'https://' + host + '/legal/setup/rest/collateral-security?caseTypeId=' + caseTypeId;
                    vm.$http.get(url)
                        .then(res => {
                        if (res.ok) {
                        let contentType = res.headers.get("Content-Type");
                        if (contentType.includes("text/html")) {
                            swal("No collateral security found");
                            return;
                        }
                        vm.collateralSecurities = Array.isArray(res.body) ? res.body : [];
                        vm.isLoading = false;
                    }
                }).catch(err => {
                    })
                },
                saveCaseEntry: function (e) {
                    e.preventDefault();
                    if (this.isLoading) return; // Prevent continuous save button click
                    let validRequest = this.validateSubmit();
                    if (!validRequest) return;
                    let vm = this;

                    /*************need to change (shanto) *****************/
                    this.litigationCaseInfo.litigationCaseInfoAccountDetailsList = [{}];

                    /*********************legal shahin***************************/
                    for(i = 0; i< this.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++){
                        this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDetailsEntityList = null;
                    }

                    for(i = 0; i< this.litigationCaseInfo.collateralSecurityList.length; i++){
                        this.litigationCaseInfo.collateralSecurityList[i].collateralSecurityList = null;
                    }

                    for(i = 0; i< this.litigationCaseInfo.blaAttendanceHistoryList.length; i++){
                        this.litigationCaseInfo.blaAttendanceHistoryList[i].blaAttendanceHistoryList = null;
                    }

                    function formatDate(dateString_yyyy_mm_dd, delimeter = "/") {
                        //console.log("ptp date : "+dateString_yyyy_mm_dd)
                        let date = new Date(dateString_yyyy_mm_dd);
                        return endureTwoDigitDay(date.getDate()) + delimeter + shortMonthNames[date.getMonth()] + delimeter + date.getFullYear();
                    }

                    for(i = 0; i< this.litigationCaseInfo.blaAttendanceHistoryList.length; i++){
                        if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].nextDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].nextDate) !='01/Jan/1970')
                            this.litigationCaseInfo.blaAttendanceHistoryList[i].nextDate = formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].nextDate);
                        }
                        if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].registrationDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].registrationDate) !='01/Jan/1970')
                            this.litigationCaseInfo.blaAttendanceHistoryList[i].registrationDate = formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].registrationDate);
                        }
                        if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].deedDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].deedDate) !='01/Jan/1970')
                            this.litigationCaseInfo.blaAttendanceHistoryList[i].deedDate = formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].deedDate);
                        }
                        if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].mutationDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].mutationDate) !='01/Jan/1970')
                            this.litigationCaseInfo.blaAttendanceHistoryList[i].mutationDate = formatDate(this.litigationCaseInfo.blaAttendanceHistoryList[i].mutationDate);
                        }
                    }
                    for(i = 0; i< this.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++){
                        if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDate) !='01/Jan/1970')
                            this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDate = formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDate);
                        }
                        if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].paperPublicationAuctionDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].paperPublicationAuctionDate) !='01/Jan/1970')
                            this.litigationCaseInfo.legalExpenseDetailsEntityList[i].paperPublicationAuctionDate = formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].paperPublicationAuctionDate);
                        }
                        if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].publicationDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].publicationDate) !='01/Jan/1970')
                            this.litigationCaseInfo.legalExpenseDetailsEntityList[i].publicationDate = formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].publicationDate);
                        }
                        if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].mediationSubmissionDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].mediationSubmissionDate) !='01/Jan/1970')
                            this.litigationCaseInfo.legalExpenseDetailsEntityList[i].mediationSubmissionDate = formatDate(this.litigationCaseInfo.legalExpenseDetailsEntityList[i].mediationSubmissionDate);
                        }
                    }

                    for(i = 0; i< this.litigationCaseInfo.recoveryBeforeCaseDetailsList.length; i++){
                        if(formatDate(this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseDate) !='01/Jan/1970')
                            this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseDate = formatDate(this.litigationCaseInfo.recoveryBeforeCaseDetailsList[i].recoveryBeforeCaseDate);
                        }
                    }

                    for(i = 0; i< this.litigationCaseInfo.recoveryAfterCaseDetailsList.length; i++){
                        if(formatDate(this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseDate) !='01/Jan/1970')
                            this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseDate = formatDate(this.litigationCaseInfo.recoveryAfterCaseDetailsList[i].recoveryAfterCaseDate);
                        }
                    }

                    for(i = 0; i< this.litigationCaseInfo.marketValueSalesValueDetailsList.length; i++){
                        if(formatDate(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValueDate) !='/undefined/NaN') {
                            if(formatDate(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValueDate) !='01/Jan/1970')
                            this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValueDate = formatDate(this.litigationCaseInfo.marketValueSalesValueDetailsList[i].marketValueDate);
                        }
                    }

                    this.litigationCaseInfo.totalLegalExpenseAmount = this.totalLegalExpenseAmount;
                    this.litigationCaseInfo.totalMarketValue = this.totalMarketValue;
                    this.litigationCaseInfo.totalForcedSaleValue = this.totalForcedSaleValue;
                    let entity = JSON.stringify(this.litigationCaseInfo);

                    let host = window.location.host;
                    this.isLoading = true;
                    vm.$http.post('https://' + host + '/legal/setup/rest/save-litigation', entity,
                        {
                            credentials: true,
                            headers: {
                                'X-CSRF-TOKEN': window.csrfToken,
                            }
                        }).then(res => {
                        if (res.ok && res.bodyText === 'succeed') {
                        swal({
                            title: "Case Entry",
                            text: "Successfully saved",
                            type: "success"
                        }, function () {
                            disableWindowFocusLossNotification();
                            vm.goToList();
                            vm.isLoading = false;
                        });

                    } else {
                        swal("Case Entry", "Failed to save changes", "danger");
                        vm.isLoading = false;
                    }
                }).catch(err => {
                        swal("Case Entry", "Failed to save changes", "danger");
                    vm.errors = err.body;
                    vm.isLoading = false;
                })
                },
                goToList: function () {
                    if (this.is360Page()) {
                        caseViewApp.litigationCaseInfo = {};
                        $('#tab-caselists > a').click();
                        if (!this.isEditPage) location.reload();
                        this.isEditPage = false;
                        this.litigationCaseInfo = $.extend(true, {}, litigationCaseInfo);
                    }
                    else {
                        window.location.href = '/legal/data-entry/litigation-case-info/list';
                    }
                },
                filterOptions: function (masterArray, filterableFieldName, conditionalValue) {
                    return filterObjectOptions(masterArray, filterableFieldName, conditionalValue);
                },
                addNewCollateralSecurity: function(){
                    this.litigationCaseInfo.collateralSecurityList.push({/*errors: "Please insert non empty Collateral Security"*/});
                },
                removeExistingCollateralSecurity: function(index){
                    this.litigationCaseInfo.collateralSecurityList.splice(index,1)
                },

                /*************shahin *****************/
                addNewLegalExpense: function(){
                    this.litigationCaseInfo.legalExpenseDetailsEntityList.push({/*errors: "Please insert non empty legal expense"*/});
                },
                removeLegalExpense: function(index){
                    this.litigationCaseInfo.legalExpenseDetailsEntityList.splice(index,1)
                },
                addNewNextDate: function(){

                    if(this.blaLength < this.maxBla){
                        this.litigationCaseInfo.blaAttendanceHistoryList.push({});
                        this.blaLength++;
                    }

                },
                removeNewNextDate: function(index){
                    this.litigationCaseInfo.blaAttendanceHistoryList.splice(index,1);
                    this.blaLength--;

                },

                addNewRecoveryBeforeCase: function(){
                    this.litigationCaseInfo.recoveryBeforeCaseDetailsList.push({/*errors: "Please insert non empty legal expense"*/});
                },
                removeRecoverBeforeCase: function(index){
                    this.litigationCaseInfo.recoveryBeforeCaseDetailsList.splice(index,1)
                },

                addNewRecoveryAfterCase: function(){
                    this.litigationCaseInfo.recoveryAfterCaseDetailsList.push({/*errors: "Please insert non empty legal expense"*/});
                },
                removeRecoverAfterCase: function(index){
                    this.litigationCaseInfo.recoveryAfterCaseDetailsList.splice(index,1)
                },

                addNewMarketValue: function(){
                    this.litigationCaseInfo.marketValueSalesValueDetailsList.push({/*errors: "Please insert non empty legal expense"*/});
                },
                removeMarketValue: function(index){
                    this.litigationCaseInfo.marketValueSalesValueDetailsList.splice(index,1)
                },

               /* setNextDateValueFromInput : function (source,index){
                   alert(source)
                },
*/
            }
        });

        let datepicker = $.fn.datepicker;
        let defaults = datepicker.defaults;
        defaults.autoclose = true;

        function setPropertyValueFromInput(source) {
            caseEntryApp.litigationCaseInfo[source.name] = source.value;
        }

        /*********************shahin****************/
        function setLegalExpenseValueFromInput(source){
            for(i =0; i<caseEntryApp.litigationCaseInfo.legalExpenseDetailsEntityList.length; i++){
                caseEntryApp.litigationCaseInfo.legalExpenseDetailsEntityList[i].legalExpenseDate = source.value;
            }
        }

        /*function setNextDateValueFromInput(source){
            for(i =0; i<caseEntryApp.litigationCaseInfo.blaAttendanceHistoryList.length; i++){

                caseEntryApp.litigationCaseInfo.blaAttendanceHistoryList[i].nextDate = source.value;
            }
        }*/

        function isValue(value) {
            let checkString = (typeof value === 'string') ? value.trim().toLowerCase() : value;
            return checkString && checkString !== '-' && checkString !== '_' && checkString !== 'null';
        }

        $('.btn-view-bla-attendance-history').on('click', function(){
            let caseId = $(this).data('caseid');
            $('#bla-attendance-tbody').html("");

            $.ajax({
                url: '/collection/legal/bla-attendance-history/get-by-litigation-case-info-id?caseId='+caseId,
                success: function(response) {
                    let rows = "";
                    $.each(response, function(index, item){
                        rows += "<tr>" +
                            "<td>"+(!!item.nextDate ? item.nextDate : '-')+"</td>" +
                            "<td>"+(!!item.courseOfActionName ? item.courseOfActionName : '-')+"</td>" +
                            "<td>"+(item.blaAttendance ? 'Yes' : 'No')+"</td>" +
                            "</tr>";
                    });

                    if(response.length == 0){
                        rows += "<tr><td class='text-center' colspan='3'>No details agvailable</td></tr>";
                    }

                    $('#bla-attendance-tbody').html(rows);
                    $('#bla-attendance-history').modal({modal:'toggle', keyboard: false, backdrop: 'static'});
                }
            })
        });
    </script>

    <style>
        #legalExpenseDate{
            height: 30px;
            border: 1px solid lightgrey;
            width: 100%;
        }
        #paperPublicationAuctionDate{
            height: 30px;
            border: 1px solid lightgrey;
            width: 100%;
        }
        #publicationDate{
            height: 30px;
            border: 1px solid lightgrey;
            width: 100%;
        }
        #mediationSubmissionDate{
            height: 30px;
            border: 1px solid lightgrey;
            width: 100%;
        }
        #nextDate{
            height: 30px;
            border: 1px solid lightgrey;
        }
        #recoveryBeforeCaseDate{
            height: 30px;
            border: 1px solid lightgrey;
        }
        #recoveryAfterCaseDate{
            height: 30px;
            border: 1px solid lightgrey;
        }
        #marketValueDate{
            height: 32px;
            width: 440px;
            border: 1px solid lightgrey;
        }

        #registrationDate{
            height: 32px;
            width: 440px;
            border: 1px solid lightgrey;
        }
        #deedDate{
            height: 32px;
            width: 440px;
            border: 1px solid lightgrey;
        }
        #mutationDate{
            height: 32px;
            width: 440px;
            border: 1px solid lightgrey;
        }


    </style>


</div>
</body>
</html>
